(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Vn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ge={},ys=[],mt=()=>{},Hl=()=>!1,Dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Kn=e=>e.startsWith("onUpdate:"),Ne=Object.assign,Wn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Vl=Object.prototype.hasOwnProperty,he=(e,t)=>Vl.call(e,t),Q=Array.isArray,ws=e=>Lr(e)==="[object Map]",Jo=e=>Lr(e)==="[object Set]",Z=e=>typeof e=="function",Te=e=>typeof e=="string",qt=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",Go=e=>(be(e)||Z(e))&&Z(e.then)&&Z(e.catch),Yo=Object.prototype.toString,Lr=e=>Yo.call(e),Kl=e=>Lr(e).slice(8,-1),Qo=e=>Lr(e)==="[object Object]",zn=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ns=Vn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Wl=/-(\w)/g,st=Mr(e=>e.replace(Wl,(t,s)=>s?s.toUpperCase():"")),zl=/\B([A-Z])/g,ts=Mr(e=>e.replace(zl,"-$1").toLowerCase()),Ur=Mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qr=Mr(e=>e?`on${Ur(e)}`:""),Ut=(e,t)=>!Object.is(e,t),yr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Xo=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},wn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ei;const Nr=()=>Ei||(Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jn(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=Te(r)?Ql(r):Jn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(Te(e)||be(e))return e}const Jl=/;(?![^(]*\))/g,Gl=/:([^]+)/,Yl=/\/\*[^]*?\*\//g;function Ql(e){const t={};return e.replace(Yl,"").split(Jl).forEach(s=>{if(s){const r=s.split(Gl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ot(e){let t="";if(Te(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const r=ot(e[s]);r&&(t+=r+" ")}else if(be(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Xl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zl=Vn(Xl);function Zo(e){return!!e||e===""}const ea=e=>!!(e&&e.__v_isRef===!0),rt=e=>Te(e)?e:e==null?"":Q(e)||be(e)&&(e.toString===Yo||!Z(e.toString))?ea(e)?rt(e.value):JSON.stringify(e,ta,2):String(e),ta=(e,t)=>ea(t)?ta(e,t.value):ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[Xr(r,i)+" =>"]=n,s),{})}:Jo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Xr(s))}:qt(t)?Xr(t):be(t)&&!Q(t)&&!Qo(t)?String(t):t,Xr=(e,t="")=>{var s;return qt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Me;class sa{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Me,!t&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Me;try{return Me=this,t()}finally{Me=s}}}on(){++this._on===1&&(this.prevScope=Me,Me=this)}off(){this._on>0&&--this._on===0&&(Me=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ra(e){return new sa(e)}function na(){return Me}function ec(e,t=!1){Me&&Me.cleanups.push(e)}let ve;const Zr=new WeakSet;class ia{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Me&&Me.active&&Me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zr.has(this)&&(Zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ki(this),la(this);const t=ve,s=it;ve=this,it=!0;try{return this.fn()}finally{ca(this),ve=t,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qn(t);this.deps=this.depsTail=void 0,ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let oa=0,Fs,Bs;function aa(e,t=!1){if(e.flags|=8,t){e.next=Bs,Bs=e;return}e.next=Fs,Fs=e}function Gn(){oa++}function Yn(){if(--oa>0)return;if(Bs){let t=Bs;for(Bs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Fs;){let t=Fs;for(Fs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function la(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ca(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Qn(r),tc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function bn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ua(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ua(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Xs)||(e.globalVersion=Xs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!bn(e))))return;e.flags|=2;const t=e.dep,s=ve,r=it;ve=e,it=!0;try{la(e);const n=e.fn(e._value);(t.version===0||Ut(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ve=s,it=r,ca(e),e.flags&=-3}}function Qn(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Qn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function tc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let it=!0;const ha=[];function kt(){ha.push(it),it=!1}function Tt(){const e=ha.pop();it=e===void 0?!0:e}function ki(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ve;ve=void 0;try{t()}finally{ve=s}}}let Xs=0;class sc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ve||!it||ve===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ve)s=this.activeLink=new sc(ve,this),ve.deps?(s.prevDep=ve.depsTail,ve.depsTail.nextDep=s,ve.depsTail=s):ve.deps=ve.depsTail=s,fa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ve.depsTail,s.nextDep=void 0,ve.depsTail.nextDep=s,ve.depsTail=s,ve.deps===s&&(ve.deps=r)}return s}trigger(t){this.version++,Xs++,this.notify(t)}notify(t){Gn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yn()}}}function fa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)fa(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Tr=new WeakMap,Qt=Symbol(""),Sn=Symbol(""),Zs=Symbol("");function Ue(e,t,s){if(it&&ve){let r=Tr.get(e);r||Tr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new Xn),n.map=r,n.key=s),n.track()}}function St(e,t,s,r,n,i){const o=Tr.get(e);if(!o){Xs++;return}const a=l=>{l&&l.trigger()};if(Gn(),t==="clear")o.forEach(a);else{const l=Q(e),u=l&&zn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Zs||!qt(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Zs)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Qt)),ws(e)&&a(o.get(Sn)));break;case"delete":l||(a(o.get(Qt)),ws(e)&&a(o.get(Sn)));break;case"set":ws(e)&&a(o.get(Qt));break}}Yn()}function rc(e,t){const s=Tr.get(e);return s&&s.get(t)}function rs(e){const t=ce(e);return t===e?t:(Ue(t,"iterate",Zs),et(e)?t:t.map(De))}function Fr(e){return Ue(e=ce(e),"iterate",Zs),e}const nc={__proto__:null,[Symbol.iterator](){return en(this,Symbol.iterator,De)},concat(...e){return rs(this).concat(...e.map(t=>Q(t)?rs(t):t))},entries(){return en(this,"entries",e=>(e[1]=De(e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,s=>s.map(De),arguments)},find(e,t){return vt(this,"find",e,t,De,arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,De,arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return tn(this,"includes",e)},indexOf(...e){return tn(this,"indexOf",e)},join(e){return rs(this).join(e)},lastIndexOf(...e){return tn(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return Rs(this,"pop")},push(...e){return Rs(this,"push",e)},reduce(e,...t){return Ti(this,"reduce",e,t)},reduceRight(e,...t){return Ti(this,"reduceRight",e,t)},shift(){return Rs(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return Rs(this,"splice",e)},toReversed(){return rs(this).toReversed()},toSorted(e){return rs(this).toSorted(e)},toSpliced(...e){return rs(this).toSpliced(...e)},unshift(...e){return Rs(this,"unshift",e)},values(){return en(this,"values",De)}};function en(e,t,s){const r=Fr(e),n=r[t]();return r!==e&&!et(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ic=Array.prototype;function vt(e,t,s,r,n,i){const o=Fr(e),a=o!==e&&!et(e),l=o[t];if(l!==ic[t]){const h=l.apply(e,i);return a?De(h):h}let u=s;o!==e&&(a?u=function(h,f){return s.call(this,De(h),f,e)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Ti(e,t,s,r){const n=Fr(e);let i=s;return n!==e&&(et(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,De(a),l,e)}),n[t](i,...r)}function tn(e,t,s){const r=ce(e);Ue(r,"iterate",Zs);const n=r[t](...s);return(n===-1||n===!1)&&ti(s[0])?(s[0]=ce(s[0]),r[t](...s)):n}function Rs(e,t,s=[]){kt(),Gn();const r=ce(e)[t].apply(e,s);return Yn(),Tt(),r}const oc=Vn("__proto__,__v_isRef,__isVue"),da=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qt));function ac(e){qt(e)||(e=String(e));const t=ce(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class pa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?_c:va:i?_a:ma).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Q(t);if(!n){let l;if(o&&(l=nc[s]))return l;if(s==="hasOwnProperty")return ac}const a=Reflect.get(t,s,Ee(t)?t:r);return(qt(s)?da.has(s):oc(s))||(n||Ue(t,"get",s),i)?a:Ee(a)?o&&zn(s)?a:a.value:be(a)?n?wa(a):Ht(a):a}}class ga extends pa{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Ft(i);if(!et(r)&&!Ft(r)&&(i=ce(i),r=ce(r)),!Q(t)&&Ee(i)&&!Ee(r))return l?!1:(i.value=r,!0)}const o=Q(t)&&zn(s)?Number(s)<t.length:he(t,s),a=Reflect.set(t,s,r,Ee(t)?t:n);return t===ce(n)&&(o?Ut(r,i)&&St(t,"set",s,r):St(t,"add",s,r)),a}deleteProperty(t,s){const r=he(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&St(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!qt(s)||!da.has(s))&&Ue(t,"has",s),r}ownKeys(t){return Ue(t,"iterate",Q(t)?"length":Qt),Reflect.ownKeys(t)}}class lc extends pa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const cc=new ga,uc=new lc,hc=new ga(!0);const En=e=>e,ur=e=>Reflect.getPrototypeOf(e);function fc(e,t,s){return function(...r){const n=this.__v_raw,i=ce(n),o=ws(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?En:t?xr:De;return!t&&Ue(i,"iterate",l?Sn:Qt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function hr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function dc(e,t){const s={get(n){const i=this.__v_raw,o=ce(i),a=ce(n);e||(Ut(n,a)&&Ue(o,"get",n),Ue(o,"get",a));const{has:l}=ur(o),u=t?En:e?xr:De;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Ue(ce(n),"iterate",Qt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=ce(i),a=ce(n);return e||(Ut(n,a)&&Ue(o,"has",n),Ue(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ce(a),u=t?En:e?xr:De;return!e&&Ue(l,"iterate",Qt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Ne(s,e?{add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear")}:{add(n){!t&&!et(n)&&!Ft(n)&&(n=ce(n));const i=ce(this);return ur(i).has.call(i,n)||(i.add(n),St(i,"add",n,n)),this},set(n,i){!t&&!et(i)&&!Ft(i)&&(i=ce(i));const o=ce(this),{has:a,get:l}=ur(o);let u=a.call(o,n);u||(n=ce(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ut(i,c)&&St(o,"set",n,i):St(o,"add",n,i),this},delete(n){const i=ce(this),{has:o,get:a}=ur(i);let l=o.call(i,n);l||(n=ce(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&St(i,"delete",n,void 0),u},clear(){const n=ce(this),i=n.size!==0,o=n.clear();return i&&St(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=fc(n,e,t)}),s}function Zn(e,t){const s=dc(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(he(s,n)&&n in r?s:r,n,i)}const pc={get:Zn(!1,!1)},gc={get:Zn(!1,!0)},mc={get:Zn(!0,!1)};const ma=new WeakMap,_a=new WeakMap,va=new WeakMap,_c=new WeakMap;function vc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yc(e){return e.__v_skip||!Object.isExtensible(e)?0:vc(Kl(e))}function Ht(e){return Ft(e)?e:ei(e,!1,cc,pc,ma)}function ya(e){return ei(e,!1,hc,gc,_a)}function wa(e){return ei(e,!0,uc,mc,va)}function ei(e,t,s,r,n){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=yc(e);if(i===0)return e;const o=n.get(e);if(o)return o;const a=new Proxy(e,i===2?r:s);return n.set(e,a),a}function Nt(e){return Ft(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function et(e){return!!(e&&e.__v_isShallow)}function ti(e){return e?!!e.__v_raw:!1}function ce(e){const t=e&&e.__v_raw;return t?ce(t):e}function si(e){return!he(e,"__v_skip")&&Object.isExtensible(e)&&Xo(e,"__v_skip",!0),e}const De=e=>be(e)?Ht(e):e,xr=e=>be(e)?wa(e):e;function Ee(e){return e?e.__v_isRef===!0:!1}function Ce(e){return ba(e,!1)}function wc(e){return ba(e,!0)}function ba(e,t){return Ee(e)?e:new bc(e,t)}class bc{constructor(t,s){this.dep=new Xn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ce(t),this._value=s?t:De(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||et(t)||Ft(t);t=r?t:ce(t),Ut(t,s)&&(this._rawValue=t,this._value=r?t:De(t),this.dep.trigger())}}function de(e){return Ee(e)?e.value:e}const Sc={get:(e,t,s)=>t==="__v_raw"?e:de(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return Ee(n)&&!Ee(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Sa(e){return Nt(e)?e:new Proxy(e,Sc)}function Ec(e){const t=Q(e)?new Array(e.length):{};for(const s in e)t[s]=Tc(e,s);return t}class kc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return rc(ce(this._object),this._key)}}function Tc(e,t,s){const r=e[t];return Ee(r)?r:new kc(e,t,s)}class xc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Xn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return aa(this,!0),!0}get value(){const t=this.dep.track();return ua(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Cc(e,t,s=!1){let r,n;return Z(e)?r=e:(r=e.get,n=e.set),new xc(r,n,s)}const fr={},Cr=new WeakMap;let Jt;function Oc(e,t=!1,s=Jt){if(s){let r=Cr.get(s);r||Cr.set(s,r=[]),r.push(e)}}function Ac(e,t,s=ge){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:et(O)||n===!1||n===0?Et(O,1):Et(O);let c,h,f,d,_=!1,y=!1;if(Ee(e)?(h=()=>e.value,_=et(e)):Nt(e)?(h=()=>u(e),_=!0):Q(e)?(y=!0,_=e.some(O=>Nt(O)||et(O)),h=()=>e.map(O=>{if(Ee(O))return O.value;if(Nt(O))return u(O);if(Z(O))return l?l(O,2):O()})):Z(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){kt();try{f()}finally{Tt()}}const O=Jt;Jt=c;try{return l?l(e,3,[d]):e(d)}finally{Jt=O}}:h=mt,t&&n){const O=h,F=n===!0?1/0:n;h=()=>Et(O(),F)}const C=na(),j=()=>{c.stop(),C&&C.active&&Wn(C.effects,c)};if(i&&t){const O=t;t=(...F)=>{O(...F),j()}}let L=y?new Array(e.length).fill(fr):fr;const R=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(t){const F=c.run();if(n||_||(y?F.some((ae,se)=>Ut(ae,L[se])):Ut(F,L))){f&&f();const ae=Jt;Jt=c;try{const se=[F,L===fr?void 0:y&&L[0]===fr?[]:L,d];l?l(t,3,se):t(...se),L=F}finally{Jt=ae}}}else c.run()};return a&&a(R),c=new ia(h),c.scheduler=o?()=>o(R,!1):R,d=O=>Oc(O,!1,c),f=c.onStop=()=>{const O=Cr.get(c);if(O){if(l)l(O,4);else for(const F of O)F();Cr.delete(c)}},t?r?R(!0):L=c.run():o?o(R.bind(null,!0),!0):c.run(),j.pause=c.pause.bind(c),j.resume=c.resume.bind(c),j.stop=j,j}function Et(e,t=1/0,s){if(t<=0||!be(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ee(e))Et(e.value,t,s);else if(Q(e))for(let r=0;r<e.length;r++)Et(e[r],t,s);else if(Jo(e)||ws(e))e.forEach(r=>{Et(r,t,s)});else if(Qo(e)){for(const r in e)Et(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Et(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function or(e,t,s,r){try{return r?e(...r):e()}catch(n){Br(n,t,s)}}function _t(e,t,s,r){if(Z(e)){const n=or(e,t,s,r);return n&&Go(n)&&n.catch(i=>{Br(i,t,s)}),n}if(Q(e)){const n=[];for(let i=0;i<e.length;i++)n.push(_t(e[i],t,s,r));return n}}function Br(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ge;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){kt(),or(i,null,10,[e,l,u]),Tt();return}}Pc(e,s,n,r,o)}function Pc(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const qe=[];let pt=-1;const bs=[];let $t=null,ds=0;const Ea=Promise.resolve();let Or=null;function ri(e){const t=Or||Ea;return e?t.then(this?e.bind(this):e):t}function $c(e){let t=pt+1,s=qe.length;for(;t<s;){const r=t+s>>>1,n=qe[r],i=er(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function ni(e){if(!(e.flags&1)){const t=er(e),s=qe[qe.length-1];!s||!(e.flags&2)&&t>=er(s)?qe.push(e):qe.splice($c(t),0,e),e.flags|=1,ka()}}function ka(){Or||(Or=Ea.then(xa))}function Rc(e){Q(e)?bs.push(...e):$t&&e.id===-1?$t.splice(ds+1,0,e):e.flags&1||(bs.push(e),e.flags|=1),ka()}function xi(e,t,s=pt+1){for(;s<qe.length;s++){const r=qe[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;qe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ta(e){if(bs.length){const t=[...new Set(bs)].sort((s,r)=>er(s)-er(r));if(bs.length=0,$t){$t.push(...t);return}for($t=t,ds=0;ds<$t.length;ds++){const s=$t[ds];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}$t=null,ds=0}}const er=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xa(e){try{for(pt=0;pt<qe.length;pt++){const t=qe[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),or(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<qe.length;pt++){const t=qe[pt];t&&(t.flags&=-2)}pt=-1,qe.length=0,Ta(),Or=null,(qe.length||bs.length)&&xa()}}let ze=null,Ca=null;function Ar(e){const t=ze;return ze=e,Ca=e&&e.type.__scopeId||null,t}function ps(e,t=ze,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Ni(-1);const i=Ar(t);let o;try{o=e(...n)}finally{Ar(i),r._d&&Ni(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Zt(e,t){if(ze===null)return e;const s=Wr(ze),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=ge]=t[n];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&Et(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Kt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),_t(l,s,8,[e.el,a,e,t]),Tt())}}const Oa=Symbol("_vte"),jc=e=>e.__isTeleport,qs=e=>e&&(e.disabled||e.disabled===""),Ci=e=>e&&(e.defer||e.defer===""),Oi=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ai=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,kn=(e,t)=>{const s=e&&e.to;return Te(s)?t?t(s):null:s},Aa={name:"Teleport",__isTeleport:!0,process(e,t,s,r,n,i,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:d,querySelector:_,createText:y,createComment:C}}=u,j=qs(t.props);let{shapeFlag:L,children:R,dynamicChildren:O}=t;if(e==null){const F=t.el=y(""),ae=t.anchor=y("");d(F,s,r),d(ae,s,r);const se=(H,G)=>{L&16&&(n&&n.isCE&&(n.ce._teleportTarget=H),c(R,H,G,n,i,o,a,l))},J=()=>{const H=t.target=kn(t.props,_),G=Pa(H,t,y,d);H&&(o!=="svg"&&Oi(H)?o="svg":o!=="mathml"&&Ai(H)&&(o="mathml"),j||(se(H,G),wr(t,!1)))};j&&(se(s,ae),wr(t,!0)),Ci(t.props)?Be(()=>{J(),t.el.__isMounted=!0},i):J()}else{if(Ci(t.props)&&!e.el.__isMounted){Be(()=>{Aa.process(e,t,s,r,n,i,o,a,l,u),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const F=t.anchor=e.anchor,ae=t.target=e.target,se=t.targetAnchor=e.targetAnchor,J=qs(e.props),H=J?s:ae,G=J?F:se;if(o==="svg"||Oi(ae)?o="svg":(o==="mathml"||Ai(ae))&&(o="mathml"),O?(f(e.dynamicChildren,O,H,n,i,o,a),ci(e,t,!0)):l||h(e,t,H,G,n,i,o,a,!1),j)J?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):dr(t,s,F,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Y=t.target=kn(t.props,_);Y&&dr(t,Y,null,u,0)}else J&&dr(t,ae,se,u,1);wr(t,j)}},remove(e,t,s,{um:r,o:{remove:n}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=e;if(h&&(n(u),n(c)),i&&n(l),o&16){const d=i||!qs(f);for(let _=0;_<a.length;_++){const y=a[_];r(y,t,s,d,!!y.dynamicChildren)}}},move:dr,hydrate:Ic};function dr(e,t,s,{o:{insert:r},m:n},i=2){i===0&&r(e.targetAnchor,t,s);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=i===2;if(h&&r(o,t,s),(!h||qs(c))&&l&16)for(let f=0;f<u.length;f++)n(u[f],t,s,2);h&&r(a,t,s)}function Ic(e,t,s,r,n,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=t.target=kn(t.props,l);if(f){const d=qs(t.props),_=f._lpa||f.firstChild;if(t.shapeFlag&16)if(d)t.anchor=h(o(e),t,a(e),s,r,n,i),t.targetStart=_,t.targetAnchor=_&&o(_);else{t.anchor=o(e);let y=_;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}y=o(y)}t.targetAnchor||Pa(f,t,c,u),h(_&&o(_),t,f,s,r,n,i)}wr(t,d)}return t.anchor&&o(t.anchor)}const ii=Aa;function wr(e,t){const s=e.ctx;if(s&&s.ut){let r,n;for(t?(r=e.el,n=e.anchor):(r=e.targetStart,n=e.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function Pa(e,t,s,r){const n=t.targetStart=s(""),i=t.targetAnchor=s("");return n[Oa]=i,e&&(r(n,e),r(i,e)),i}function oi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,oi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function $e(e,t){return Z(e)?Ne({name:e.name},t,{setup:e}):e}function $a(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Pr(e,t,s,r,n=!1){if(Q(e)){e.forEach((_,y)=>Pr(_,t&&(Q(t)?t[y]:t),s,r,n));return}if(Hs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Pr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Wr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===ge?a.refs={}:a.refs,h=a.setupState,f=ce(h),d=h===ge?()=>!1:_=>he(f,_);if(u!=null&&u!==l&&(Te(u)?(c[u]=null,d(u)&&(h[u]=null)):Ee(u)&&(u.value=null)),Z(l))or(l,a,12,[o,c]);else{const _=Te(l),y=Ee(l);if(_||y){const C=()=>{if(e.f){const j=_?d(l)?h[l]:c[l]:l.value;n?Q(j)&&Wn(j,i):Q(j)?j.includes(i)||j.push(i):_?(c[l]=[i],d(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else _?(c[l]=o,d(l)&&(h[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};o?(C.id=-1,Be(C,s)):C()}}}Nr().requestIdleCallback;Nr().cancelIdleCallback;const Hs=e=>!!e.type.__asyncLoader,Ra=e=>e.type.__isKeepAlive;function Dc(e,t){ja(e,"a",t)}function Lc(e,t){ja(e,"da",t)}function ja(e,t,s=Le){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(qr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Ra(n.parent.vnode)&&Mc(r,t,s,n),n=n.parent}}function Mc(e,t,s,r){const n=qr(t,e,r,!0);Ia(()=>{Wn(r[t],n)},s)}function qr(e,t,s=Le,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=ar(s),l=_t(t,s,e,o);return a(),Tt(),l});return r?n.unshift(i):n.push(i),i}}const xt=e=>(t,s=Le)=>{(!sr||e==="sp")&&qr(e,(...r)=>t(...r),s)},Uc=xt("bm"),at=xt("m"),Nc=xt("bu"),Fc=xt("u"),Bc=xt("bum"),Ia=xt("um"),qc=xt("sp"),Hc=xt("rtg"),Vc=xt("rtc");function Kc(e,t=Le){qr("ec",e,t)}const Wc="components";function Da(e,t){return Jc(Wc,e,!0,t)||e}const zc=Symbol.for("v-ndc");function Jc(e,t,s=!0,r=!1){const n=ze||Le;if(n){const i=n.type;{const a=Du(i,!1);if(a&&(a===t||a===st(t)||a===Ur(st(t))))return i}const o=Pi(n[e]||i[e],t)||Pi(n.appContext[e],t);return!o&&r?i:o}}function Pi(e,t){return e&&(e[t]||e[st(t)]||e[Ur(st(t))])}function Hr(e,t,s,r){let n;const i=s,o=Q(e);if(o||Te(e)){const a=o&&Nt(e);let l=!1,u=!1;a&&(l=!et(e),u=Ft(e),e=Fr(e)),n=new Array(e.length);for(let c=0,h=e.length;c<h;c++)n[c]=t(l?u?xr(De(e[c])):De(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(be(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}const Tn=e=>e?el(e)?Wr(e):Tn(e.parent):null,Vs=Ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tn(e.parent),$root:e=>Tn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ma(e),$forceUpdate:e=>e.f||(e.f=()=>{ni(e.update)}),$nextTick:e=>e.n||(e.n=ri.bind(e.proxy)),$watch:e=>mu.bind(e)}),sn=(e,t)=>e!==ge&&!e.__isScriptSetup&&he(e,t),Gc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(sn(r,t))return o[t]=1,r[t];if(n!==ge&&he(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&he(u,t))return o[t]=3,i[t];if(s!==ge&&he(s,t))return o[t]=4,s[t];xn&&(o[t]=0)}}const c=Vs[t];let h,f;if(c)return t==="$attrs"&&Ue(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==ge&&he(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,he(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return sn(n,t)?(n[t]=s,!0):r!==ge&&he(r,t)?(r[t]=s,!0):he(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==ge&&he(e,o)||sn(t,o)||(a=i[0])&&he(a,o)||he(r,o)||he(Vs,o)||he(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:he(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function $i(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let xn=!0;function Yc(e){const t=Ma(e),s=e.proxy,r=e.ctx;xn=!1,t.beforeCreate&&Ri(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:_,activated:y,deactivated:C,beforeDestroy:j,beforeUnmount:L,destroyed:R,unmounted:O,render:F,renderTracked:ae,renderTriggered:se,errorCaptured:J,serverPrefetch:H,expose:G,inheritAttrs:Y,components:Oe,directives:Re,filters:V}=t;if(u&&Qc(u,r,null),o)for(const T in o){const E=o[T];Z(E)&&(r[T]=E.bind(s))}if(n){const T=n.call(s,s);be(T)&&(e.data=Ht(T))}if(xn=!0,i)for(const T in i){const E=i[T],W=Z(E)?E.bind(s,s):Z(E.get)?E.get.bind(s,s):mt,z=!Z(E)&&Z(E.set)?E.set.bind(s):mt,re=He({get:W,set:z});Object.defineProperty(r,T,{enumerable:!0,configurable:!0,get:()=>re.value,set:ne=>re.value=ne})}if(a)for(const T in a)La(a[T],r,s,T);if(l){const T=Z(l)?l.call(s):l;Reflect.ownKeys(T).forEach(E=>{br(E,T[E])})}c&&Ri(c,e,"c");function k(T,E){Q(E)?E.forEach(W=>T(W.bind(s))):E&&T(E.bind(s))}if(k(Uc,h),k(at,f),k(Nc,d),k(Fc,_),k(Dc,y),k(Lc,C),k(Kc,J),k(Vc,ae),k(Hc,se),k(Bc,L),k(Ia,O),k(qc,H),Q(G))if(G.length){const T=e.exposed||(e.exposed={});G.forEach(E=>{Object.defineProperty(T,E,{get:()=>s[E],set:W=>s[E]=W})})}else e.exposed||(e.exposed={});F&&e.render===mt&&(e.render=F),Y!=null&&(e.inheritAttrs=Y),Oe&&(e.components=Oe),Re&&(e.directives=Re),H&&$a(e)}function Qc(e,t,s=mt){Q(e)&&(e=Cn(e));for(const r in e){const n=e[r];let i;be(n)?"default"in n?i=tt(n.from||r,n.default,!0):i=tt(n.from||r):i=tt(n),Ee(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Ri(e,t,s){_t(Q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function La(e,t,s,r){let n=r.includes(".")?Ga(s,r):()=>s[r];if(Te(e)){const i=t[e];Z(i)&&Ss(n,i)}else if(Z(e))Ss(n,e.bind(s));else if(be(e))if(Q(e))e.forEach(i=>La(i,t,s,r));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&Ss(n,i,e)}}function Ma(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>$r(l,u,o,!0)),$r(l,t,o)),be(t)&&i.set(t,l),l}function $r(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&$r(e,i,s,!0),n&&n.forEach(o=>$r(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=Xc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Xc={data:ji,props:Ii,emits:Ii,methods:Ms,computed:Ms,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:Ms,directives:Ms,watch:eu,provide:ji,inject:Zc};function ji(e,t){return t?e?function(){return Ne(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Zc(e,t){return Ms(Cn(e),Cn(t))}function Cn(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Fe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ms(e,t){return e?Ne(Object.create(null),e,t):t}function Ii(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Ne(Object.create(null),$i(e),$i(t??{})):t}function eu(e,t){if(!e)return t;if(!t)return e;const s=Ne(Object.create(null),e);for(const r in t)s[r]=Fe(e[r],t[r]);return s}function Ua(){return{app:null,config:{isNativeTag:Hl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tu=0;function su(e,t){return function(r,n=null){Z(r)||(r=Ne({},r)),n!=null&&!be(n)&&(n=null);const i=Ua(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:tu++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Mu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(u,...h)):Z(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||we(r,n);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(d,c,f),l=!0,u._container=c,c.__vue_app__=u,Wr(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(_t(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Xt;Xt=u;try{return c()}finally{Xt=h}}};return u}}let Xt=null;function br(e,t){if(Le){let s=Le.provides;const r=Le.parent&&Le.parent.provides;r===s&&(s=Le.provides=Object.create(r)),s[e]=t}}function tt(e,t,s=!1){const r=Le||ze;if(r||Xt){const n=Xt?Xt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Z(t)?t.call(r&&r.proxy):t}}function ru(){return!!(Le||ze||Xt)}const Na={},Fa=()=>Object.create(Na),Ba=e=>Object.getPrototypeOf(e)===Na;function nu(e,t,s,r=!1){const n={},i=Fa();e.propsDefaults=Object.create(null),qa(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:ya(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function iu(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=ce(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Vr(e.emitsOptions,f))continue;const d=t[f];if(l)if(he(i,f))d!==i[f]&&(i[f]=d,u=!0);else{const _=st(f);n[_]=On(l,a,_,d,e,!1)}else d!==i[f]&&(i[f]=d,u=!0)}}}else{qa(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!he(t,h)&&((c=ts(h))===h||!he(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=On(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!he(t,h))&&(delete i[h],u=!0)}u&&St(e.attrs,"set","")}function qa(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ns(l))continue;const u=t[l];let c;n&&he(n,c=st(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Vr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=ce(s),u=a||ge;for(let c=0;c<i.length;c++){const h=i[c];s[h]=On(n,l,h,u[h],e,!he(u,h))}}return o}function On(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=he(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ar(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ts(s))&&(r=!0))}return r}const ou=new WeakMap;function Ha(e,t,s=!1){const r=s?ou:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const c=h=>{l=!0;const[f,d]=Ha(h,t,!0);Ne(o,f),d&&a.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return be(e)&&r.set(e,ys),ys;if(Q(i))for(let c=0;c<i.length;c++){const h=st(i[c]);Di(h)&&(o[h]=ge)}else if(i)for(const c in i){const h=st(c);if(Di(h)){const f=i[c],d=o[h]=Q(f)||Z(f)?{type:f}:Ne({},f),_=d.type;let y=!1,C=!0;if(Q(_))for(let j=0;j<_.length;++j){const L=_[j],R=Z(L)&&L.name;if(R==="Boolean"){y=!0;break}else R==="String"&&(C=!1)}else y=Z(_)&&_.name==="Boolean";d[0]=y,d[1]=C,(y||he(d,"default"))&&a.push(h)}}const u=[o,a];return be(e)&&r.set(e,u),u}function Di(e){return e[0]!=="$"&&!Ns(e)}const ai=e=>e[0]==="_"||e==="$stable",li=e=>Q(e)?e.map(gt):[gt(e)],au=(e,t,s)=>{if(t._n)return t;const r=ps((...n)=>li(t(...n)),s);return r._c=!1,r},Va=(e,t,s)=>{const r=e._ctx;for(const n in e){if(ai(n))continue;const i=e[n];if(Z(i))t[n]=au(n,i,r);else if(i!=null){const o=li(i);t[n]=()=>o}}},Ka=(e,t)=>{const s=li(t);e.slots.default=()=>s},Wa=(e,t,s)=>{for(const r in t)(s||!ai(r))&&(e[r]=t[r])},lu=(e,t,s)=>{const r=e.slots=Fa();if(e.vnode.shapeFlag&32){const n=t._;n?(Wa(r,t,s),s&&Xo(r,"_",n,!0)):Va(t,r)}else t&&Ka(e,t)},cu=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=ge;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Wa(n,t,s):(i=!t.$stable,Va(t,n)),o=t}else t&&(Ka(e,t),o={default:1});if(i)for(const a in n)!ai(a)&&o[a]==null&&delete n[a]},Be=Eu;function uu(e){return hu(e)}function hu(e,t){const s=Nr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=mt,insertStaticContent:_}=e,y=(p,g,m,w=null,S=null,b=null,D=void 0,$=null,P=!!g.dynamicChildren)=>{if(p===g)return;p&&!js(p,g)&&(w=v(p),ne(p,S,b,!0),p=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:x,ref:K,shapeFlag:N}=g;switch(x){case Kr:C(p,g,m,w);break;case Bt:j(p,g,m,w);break;case nn:p==null&&L(g,m,w,D);break;case ke:Oe(p,g,m,w,S,b,D,$,P);break;default:N&1?F(p,g,m,w,S,b,D,$,P):N&6?Re(p,g,m,w,S,b,D,$,P):(N&64||N&128)&&x.process(p,g,m,w,S,b,D,$,P,U)}K!=null&&S&&Pr(K,p&&p.ref,b,g||p,!g)},C=(p,g,m,w)=>{if(p==null)r(g.el=a(g.children),m,w);else{const S=g.el=p.el;g.children!==p.children&&u(S,g.children)}},j=(p,g,m,w)=>{p==null?r(g.el=l(g.children||""),m,w):g.el=p.el},L=(p,g,m,w)=>{[p.el,p.anchor]=_(p.children,g,m,w,p.el,p.anchor)},R=({el:p,anchor:g},m,w)=>{let S;for(;p&&p!==g;)S=f(p),r(p,m,w),p=S;r(g,m,w)},O=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=f(p),n(p),p=m;n(g)},F=(p,g,m,w,S,b,D,$,P)=>{g.type==="svg"?D="svg":g.type==="math"&&(D="mathml"),p==null?ae(g,m,w,S,b,D,$,P):H(p,g,S,b,D,$,P)},ae=(p,g,m,w,S,b,D,$)=>{let P,x;const{props:K,shapeFlag:N,transition:q,dirs:X}=p;if(P=p.el=o(p.type,b,K&&K.is,K),N&8?c(P,p.children):N&16&&J(p.children,P,null,w,S,rn(p,b),D,$),X&&Kt(p,null,w,"created"),se(P,p,p.scopeId,D,w),K){for(const me in K)me!=="value"&&!Ns(me)&&i(P,me,null,K[me],b,w);"value"in K&&i(P,"value",null,K.value,b),(x=K.onVnodeBeforeMount)&&ft(x,w,p)}X&&Kt(p,null,w,"beforeMount");const le=fu(S,q);le&&q.beforeEnter(P),r(P,g,m),((x=K&&K.onVnodeMounted)||le||X)&&Be(()=>{x&&ft(x,w,p),le&&q.enter(P),X&&Kt(p,null,w,"mounted")},S)},se=(p,g,m,w,S)=>{if(m&&d(p,m),w)for(let b=0;b<w.length;b++)d(p,w[b]);if(S){let b=S.subTree;if(g===b||Qa(b.type)&&(b.ssContent===g||b.ssFallback===g)){const D=S.vnode;se(p,D,D.scopeId,D.slotScopeIds,S.parent)}}},J=(p,g,m,w,S,b,D,$,P=0)=>{for(let x=P;x<p.length;x++){const K=p[x]=$?Rt(p[x]):gt(p[x]);y(null,K,g,m,w,S,b,D,$)}},H=(p,g,m,w,S,b,D)=>{const $=g.el=p.el;let{patchFlag:P,dynamicChildren:x,dirs:K}=g;P|=p.patchFlag&16;const N=p.props||ge,q=g.props||ge;let X;if(m&&Wt(m,!1),(X=q.onVnodeBeforeUpdate)&&ft(X,m,g,p),K&&Kt(g,p,m,"beforeUpdate"),m&&Wt(m,!0),(N.innerHTML&&q.innerHTML==null||N.textContent&&q.textContent==null)&&c($,""),x?G(p.dynamicChildren,x,$,m,w,rn(g,S),b):D||E(p,g,$,null,m,w,rn(g,S),b,!1),P>0){if(P&16)Y($,N,q,m,S);else if(P&2&&N.class!==q.class&&i($,"class",null,q.class,S),P&4&&i($,"style",N.style,q.style,S),P&8){const le=g.dynamicProps;for(let me=0;me<le.length;me++){const fe=le[me],Je=N[fe],Ke=q[fe];(Ke!==Je||fe==="value")&&i($,fe,Je,Ke,S,m)}}P&1&&p.children!==g.children&&c($,g.children)}else!D&&x==null&&Y($,N,q,m,S);((X=q.onVnodeUpdated)||K)&&Be(()=>{X&&ft(X,m,g,p),K&&Kt(g,p,m,"updated")},w)},G=(p,g,m,w,S,b,D)=>{for(let $=0;$<g.length;$++){const P=p[$],x=g[$],K=P.el&&(P.type===ke||!js(P,x)||P.shapeFlag&70)?h(P.el):m;y(P,x,K,null,w,S,b,D,!0)}},Y=(p,g,m,w,S)=>{if(g!==m){if(g!==ge)for(const b in g)!Ns(b)&&!(b in m)&&i(p,b,g[b],null,S,w);for(const b in m){if(Ns(b))continue;const D=m[b],$=g[b];D!==$&&b!=="value"&&i(p,b,$,D,S,w)}"value"in m&&i(p,"value",g.value,m.value,S)}},Oe=(p,g,m,w,S,b,D,$,P)=>{const x=g.el=p?p.el:a(""),K=g.anchor=p?p.anchor:a("");let{patchFlag:N,dynamicChildren:q,slotScopeIds:X}=g;X&&($=$?$.concat(X):X),p==null?(r(x,m,w),r(K,m,w),J(g.children||[],m,K,S,b,D,$,P)):N>0&&N&64&&q&&p.dynamicChildren?(G(p.dynamicChildren,q,m,S,b,D,$),(g.key!=null||S&&g===S.subTree)&&ci(p,g,!0)):E(p,g,m,K,S,b,D,$,P)},Re=(p,g,m,w,S,b,D,$,P)=>{g.slotScopeIds=$,p==null?g.shapeFlag&512?S.ctx.activate(g,m,w,D,P):V(g,m,w,S,b,D,P):I(p,g,P)},V=(p,g,m,w,S,b,D)=>{const $=p.component=Pu(p,w,S);if(Ra(p)&&($.ctx.renderer=U),$u($,!1,D),$.asyncDep){if(S&&S.registerDep($,k,D),!p.el){const P=$.subTree=we(Bt);j(null,P,g,m)}}else k($,p,g,m,S,b,D)},I=(p,g,m)=>{const w=g.component=p.component;if(bu(p,g,m))if(w.asyncDep&&!w.asyncResolved){T(w,g,m);return}else w.next=g,w.update();else g.el=p.el,w.vnode=g},k=(p,g,m,w,S,b,D)=>{const $=()=>{if(p.isMounted){let{next:N,bu:q,u:X,parent:le,vnode:me}=p;{const ut=za(p);if(ut){N&&(N.el=me.el,T(p,N,D)),ut.asyncDep.then(()=>{p.isUnmounted||$()});return}}let fe=N,Je;Wt(p,!1),N?(N.el=me.el,T(p,N,D)):N=me,q&&yr(q),(Je=N.props&&N.props.onVnodeBeforeUpdate)&&ft(Je,le,N,me),Wt(p,!0);const Ke=Mi(p),ct=p.subTree;p.subTree=Ke,y(ct,Ke,h(ct.el),v(ct),p,S,b),N.el=Ke.el,fe===null&&Su(p,Ke.el),X&&Be(X,S),(Je=N.props&&N.props.onVnodeUpdated)&&Be(()=>ft(Je,le,N,me),S)}else{let N;const{el:q,props:X}=g,{bm:le,m:me,parent:fe,root:Je,type:Ke}=p,ct=Hs(g);Wt(p,!1),le&&yr(le),!ct&&(N=X&&X.onVnodeBeforeMount)&&ft(N,fe,g),Wt(p,!0);{Je.ce&&Je.ce._injectChildStyle(Ke);const ut=p.subTree=Mi(p);y(null,ut,m,w,p,S,b),g.el=ut.el}if(me&&Be(me,S),!ct&&(N=X&&X.onVnodeMounted)){const ut=g;Be(()=>ft(N,fe,ut),S)}(g.shapeFlag&256||fe&&Hs(fe.vnode)&&fe.vnode.shapeFlag&256)&&p.a&&Be(p.a,S),p.isMounted=!0,g=m=w=null}};p.scope.on();const P=p.effect=new ia($);p.scope.off();const x=p.update=P.run.bind(P),K=p.job=P.runIfDirty.bind(P);K.i=p,K.id=p.uid,P.scheduler=()=>ni(K),Wt(p,!0),x()},T=(p,g,m)=>{g.component=p;const w=p.vnode.props;p.vnode=g,p.next=null,iu(p,g.props,w,m),cu(p,g.children,m),kt(),xi(p),Tt()},E=(p,g,m,w,S,b,D,$,P=!1)=>{const x=p&&p.children,K=p?p.shapeFlag:0,N=g.children,{patchFlag:q,shapeFlag:X}=g;if(q>0){if(q&128){z(x,N,m,w,S,b,D,$,P);return}else if(q&256){W(x,N,m,w,S,b,D,$,P);return}}X&8?(K&16&&xe(x,S,b),N!==x&&c(m,N)):K&16?X&16?z(x,N,m,w,S,b,D,$,P):xe(x,S,b,!0):(K&8&&c(m,""),X&16&&J(N,m,w,S,b,D,$,P))},W=(p,g,m,w,S,b,D,$,P)=>{p=p||ys,g=g||ys;const x=p.length,K=g.length,N=Math.min(x,K);let q;for(q=0;q<N;q++){const X=g[q]=P?Rt(g[q]):gt(g[q]);y(p[q],X,m,null,S,b,D,$,P)}x>K?xe(p,S,b,!0,!1,N):J(g,m,w,S,b,D,$,P,N)},z=(p,g,m,w,S,b,D,$,P)=>{let x=0;const K=g.length;let N=p.length-1,q=K-1;for(;x<=N&&x<=q;){const X=p[x],le=g[x]=P?Rt(g[x]):gt(g[x]);if(js(X,le))y(X,le,m,null,S,b,D,$,P);else break;x++}for(;x<=N&&x<=q;){const X=p[N],le=g[q]=P?Rt(g[q]):gt(g[q]);if(js(X,le))y(X,le,m,null,S,b,D,$,P);else break;N--,q--}if(x>N){if(x<=q){const X=q+1,le=X<K?g[X].el:w;for(;x<=q;)y(null,g[x]=P?Rt(g[x]):gt(g[x]),m,le,S,b,D,$,P),x++}}else if(x>q)for(;x<=N;)ne(p[x],S,b,!0),x++;else{const X=x,le=x,me=new Map;for(x=le;x<=q;x++){const Ge=g[x]=P?Rt(g[x]):gt(g[x]);Ge.key!=null&&me.set(Ge.key,x)}let fe,Je=0;const Ke=q-le+1;let ct=!1,ut=0;const $s=new Array(Ke);for(x=0;x<Ke;x++)$s[x]=0;for(x=X;x<=N;x++){const Ge=p[x];if(Je>=Ke){ne(Ge,S,b,!0);continue}let ht;if(Ge.key!=null)ht=me.get(Ge.key);else for(fe=le;fe<=q;fe++)if($s[fe-le]===0&&js(Ge,g[fe])){ht=fe;break}ht===void 0?ne(Ge,S,b,!0):($s[ht-le]=x+1,ht>=ut?ut=ht:ct=!0,y(Ge,g[ht],m,null,S,b,D,$,P),Je++)}const bi=ct?du($s):ys;for(fe=bi.length-1,x=Ke-1;x>=0;x--){const Ge=le+x,ht=g[Ge],Si=Ge+1<K?g[Ge+1].el:w;$s[x]===0?y(null,ht,m,Si,S,b,D,$,P):ct&&(fe<0||x!==bi[fe]?re(ht,m,Si,2):fe--)}}},re=(p,g,m,w,S=null)=>{const{el:b,type:D,transition:$,children:P,shapeFlag:x}=p;if(x&6){re(p.component.subTree,g,m,w);return}if(x&128){p.suspense.move(g,m,w);return}if(x&64){D.move(p,g,m,U);return}if(D===ke){r(b,g,m);for(let N=0;N<P.length;N++)re(P[N],g,m,w);r(p.anchor,g,m);return}if(D===nn){R(p,g,m);return}if(w!==2&&x&1&&$)if(w===0)$.beforeEnter(b),r(b,g,m),Be(()=>$.enter(b),S);else{const{leave:N,delayLeave:q,afterLeave:X}=$,le=()=>{p.ctx.isUnmounted?n(b):r(b,g,m)},me=()=>{N(b,()=>{le(),X&&X()})};q?q(b,le,me):me()}else r(b,g,m)},ne=(p,g,m,w=!1,S=!1)=>{const{type:b,props:D,ref:$,children:P,dynamicChildren:x,shapeFlag:K,patchFlag:N,dirs:q,cacheIndex:X}=p;if(N===-2&&(S=!1),$!=null&&(kt(),Pr($,null,m,p,!0),Tt()),X!=null&&(g.renderCache[X]=void 0),K&256){g.ctx.deactivate(p);return}const le=K&1&&q,me=!Hs(p);let fe;if(me&&(fe=D&&D.onVnodeBeforeUnmount)&&ft(fe,g,p),K&6)je(p.component,m,w);else{if(K&128){p.suspense.unmount(m,w);return}le&&Kt(p,null,g,"beforeUnmount"),K&64?p.type.remove(p,g,m,U,w):x&&!x.hasOnce&&(b!==ke||N>0&&N&64)?xe(x,g,m,!1,!0):(b===ke&&N&384||!S&&K&16)&&xe(P,g,m),w&&ye(p)}(me&&(fe=D&&D.onVnodeUnmounted)||le)&&Be(()=>{fe&&ft(fe,g,p),le&&Kt(p,null,g,"unmounted")},m)},ye=p=>{const{type:g,el:m,anchor:w,transition:S}=p;if(g===ke){Se(m,w);return}if(g===nn){O(p);return}const b=()=>{n(m),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:D,delayLeave:$}=S,P=()=>D(m,b);$?$(p.el,b,P):P()}else b()},Se=(p,g)=>{let m;for(;p!==g;)m=f(p),n(p),p=m;n(g)},je=(p,g,m)=>{const{bum:w,scope:S,job:b,subTree:D,um:$,m:P,a:x,parent:K,slots:{__:N}}=p;Li(P),Li(x),w&&yr(w),K&&Q(N)&&N.forEach(q=>{K.renderCache[q]=void 0}),S.stop(),b&&(b.flags|=8,ne(D,p,g,m)),$&&Be($,g),Be(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},xe=(p,g,m,w=!1,S=!1,b=0)=>{for(let D=b;D<p.length;D++)ne(p[D],g,m,w,S)},v=p=>{if(p.shapeFlag&6)return v(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),m=g&&g[Oa];return m?f(m):g};let M=!1;const A=(p,g,m)=>{p==null?g._vnode&&ne(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,m),g._vnode=p,M||(M=!0,xi(),Ta(),M=!1)},U={p:y,um:ne,m:re,r:ye,mt:V,mc:J,pc:E,pbc:G,n:v,o:e};return{render:A,hydrate:void 0,createApp:su(A)}}function rn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Wt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function fu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ci(e,t,s=!1){const r=e.children,n=t.children;if(Q(r)&&Q(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Rt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ci(o,a)),a.type===Kr&&(a.el=o.el),a.type===Bt&&!a.el&&(a.el=o.el)}}function du(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function za(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:za(t)}function Li(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const pu=Symbol.for("v-scx"),gu=()=>tt(pu);function Ss(e,t,s){return Ja(e,t,s)}function Ja(e,t,s=ge){const{immediate:r,deep:n,flush:i,once:o}=s,a=Ne({},s),l=t&&r||!t&&i!=="post";let u;if(sr){if(i==="sync"){const d=gu();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mt,d.resume=mt,d.pause=mt,d}}const c=Le;a.call=(d,_,y)=>_t(d,c,_,y);let h=!1;i==="post"?a.scheduler=d=>{Be(d,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(d,_)=>{_?d():ni(d)}),a.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=Ac(e,t,a);return sr&&(u?u.push(f):l&&f()),f}function mu(e,t,s){const r=this.proxy,n=Te(e)?e.includes(".")?Ga(r,e):()=>r[e]:e.bind(r,r);let i;Z(t)?i=t:(i=t.handler,s=t);const o=ar(this),a=Ja(n,i.bind(r),s);return o(),a}function Ga(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const _u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${st(t)}Modifiers`]||e[`${ts(t)}Modifiers`];function vu(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||ge;let n=s;const i=t.startsWith("update:"),o=i&&_u(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>Te(c)?c.trim():c)),o.number&&(n=s.map(wn)));let a,l=r[a=Qr(t)]||r[a=Qr(st(t))];!l&&i&&(l=r[a=Qr(ts(t))]),l&&_t(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,_t(u,e,6,n)}}function Ya(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=u=>{const c=Ya(u,t,!0);c&&(a=!0,Ne(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(be(e)&&r.set(e,null),null):(Q(i)?i.forEach(l=>o[l]=null):Ne(o,i),be(e)&&r.set(e,o),o)}function Vr(e,t){return!e||!Dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),he(e,t[0].toLowerCase()+t.slice(1))||he(e,ts(t))||he(e,t))}function Mi(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:_,inheritAttrs:y}=e,C=Ar(e);let j,L;try{if(s.shapeFlag&4){const O=n||r,F=O;j=gt(u.call(F,O,c,h,d,f,_)),L=a}else{const O=t;j=gt(O.length>1?O(h,{attrs:a,slots:o,emit:l}):O(h,null)),L=t.props?a:yu(a)}}catch(O){Ks.length=0,Br(O,e,1),j=we(Bt)}let R=j;if(L&&y!==!1){const O=Object.keys(L),{shapeFlag:F}=R;O.length&&F&7&&(i&&O.some(Kn)&&(L=wu(L,i)),R=ks(R,L,!1,!0))}return s.dirs&&(R=ks(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&oi(R,s.transition),j=R,Ar(C),j}const yu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Dr(s))&&((t||(t={}))[s]=e[s]);return t},wu=(e,t)=>{const s={};for(const r in e)(!Kn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function bu(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ui(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Vr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ui(r,o,u):!0:!!o;return!1}function Ui(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!Vr(s,i))return!0}return!1}function Su({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const Qa=e=>e.__isSuspense;function Eu(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Rc(e)}const ke=Symbol.for("v-fgt"),Kr=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),nn=Symbol.for("v-stc"),Ks=[];let Xe=null;function te(e=!1){Ks.push(Xe=e?null:[])}function ku(){Ks.pop(),Xe=Ks[Ks.length-1]||null}let tr=1;function Ni(e,t=!1){tr+=e,e<0&&Xe&&t&&(Xe.hasOnce=!0)}function Xa(e){return e.dynamicChildren=tr>0?Xe||ys:null,ku(),tr>0&&Xe&&Xe.push(e),e}function pe(e,t,s,r,n,i){return Xa(B(e,t,s,r,n,i,!0))}function Ze(e,t,s,r,n){return Xa(we(e,t,s,r,n,!0))}function Rr(e){return e?e.__v_isVNode===!0:!1}function js(e,t){return e.type===t.type&&e.key===t.key}const Za=({key:e})=>e??null,Sr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||Ee(e)||Z(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function B(e,t=null,s=null,r=0,n=null,i=e===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Za(t),ref:t&&Sr(t),scopeId:Ca,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return a?(ui(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Te(s)?8:16),tr>0&&!o&&Xe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Xe.push(l),l}const we=Tu;function Tu(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===zc)&&(e=Bt),Rr(e)){const a=ks(e,t,!0);return s&&ui(a,s),tr>0&&!i&&Xe&&(a.shapeFlag&6?Xe[Xe.indexOf(e)]=a:Xe.push(a)),a.patchFlag=-2,a}if(Lu(e)&&(e=e.__vccOpts),t){t=xu(t);let{class:a,style:l}=t;a&&!Te(a)&&(t.class=ot(a)),be(l)&&(ti(l)&&!Q(l)&&(l=Ne({},l)),t.style=Jn(l))}const o=Te(e)?1:Qa(e)?128:jc(e)?64:be(e)?4:Z(e)?2:0;return B(e,t,s,r,n,o,i,!0)}function xu(e){return e?ti(e)||Ba(e)?Ne({},e):e:null}function ks(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Cu(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Za(u),ref:t&&t.ref?s&&i?Q(i)?i.concat(Sr(t)):[i,Sr(t)]:Sr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ks(e.ssContent),ssFallback:e.ssFallback&&ks(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&oi(c,l.clone(c)),c}function gs(e=" ",t=0){return we(Kr,null,e,t)}function Lt(e="",t=!1){return t?(te(),Ze(Bt,null,e)):we(Bt,null,e)}function gt(e){return e==null||typeof e=="boolean"?we(Bt):Q(e)?we(ke,null,e.slice()):Rr(e)?Rt(e):we(Kr,null,String(e))}function Rt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ks(e)}function ui(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),ui(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Ba(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),r&64?(s=16,t=[gs(t)]):s=8);e.children=t,e.shapeFlag|=s}function Cu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=ot([t.class,r.class]));else if(n==="style")t.style=Jn([t.style,r.style]);else if(Dr(n)){const i=t[n],o=r[n];o&&i!==o&&!(Q(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function ft(e,t,s,r=null){_t(e,t,7,[s,r])}const Ou=Ua();let Au=0;function Pu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||Ou,i={uid:Au++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ha(r,n),emitsOptions:Ya(r,n),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:r.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=vu.bind(null,i),e.ce&&e.ce(i),i}let Le=null,jr,An;{const e=Nr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};jr=t("__VUE_INSTANCE_SETTERS__",s=>Le=s),An=t("__VUE_SSR_SETTERS__",s=>sr=s)}const ar=e=>{const t=Le;return jr(e),e.scope.on(),()=>{e.scope.off(),jr(t)}},Fi=()=>{Le&&Le.scope.off(),jr(null)};function el(e){return e.vnode.shapeFlag&4}let sr=!1;function $u(e,t=!1,s=!1){t&&An(t);const{props:r,children:n}=e.vnode,i=el(e);nu(e,r,i,t),lu(e,n,s||t);const o=i?Ru(e,t):void 0;return t&&An(!1),o}function Ru(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gc);const{setup:r}=s;if(r){kt();const n=e.setupContext=r.length>1?Iu(e):null,i=ar(e),o=or(r,e,0,[e.props,n]),a=Go(o);if(Tt(),i(),(a||e.sp)&&!Hs(e)&&$a(e),a){if(o.then(Fi,Fi),t)return o.then(l=>{Bi(e,l)}).catch(l=>{Br(l,e,0)});e.asyncDep=o}else Bi(e,o)}else tl(e)}function Bi(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=Sa(t)),tl(e)}function tl(e,t,s){const r=e.type;e.render||(e.render=r.render||mt);{const n=ar(e);kt();try{Yc(e)}finally{Tt(),n()}}}const ju={get(e,t){return Ue(e,"get",""),e[t]}};function Iu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ju),slots:e.slots,emit:e.emit,expose:t}}function Wr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sa(si(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Vs)return Vs[s](e)},has(t,s){return s in t||s in Vs}})):e.proxy}function Du(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function Lu(e){return Z(e)&&"__vccOpts"in e}const He=(e,t)=>Cc(e,t,sr);function sl(e,t,s){const r=arguments.length;return r===2?be(t)&&!Q(t)?Rr(t)?we(e,null,[t]):we(e,t):we(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Rr(s)&&(s=[s]),we(e,t,s))}const Mu="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;const qi=typeof window<"u"&&window.trustedTypes;if(qi)try{Pn=qi.createPolicy("vue",{createHTML:e=>e})}catch{}const rl=Pn?e=>Pn.createHTML(e):e=>e,Uu="http://www.w3.org/2000/svg",Nu="http://www.w3.org/1998/Math/MathML",wt=typeof document<"u"?document:null,Hi=wt&&wt.createElement("template"),Fu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?wt.createElementNS(Uu,e):t==="mathml"?wt.createElementNS(Nu,e):s?wt.createElement(e,{is:s}):wt.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>wt.createTextNode(e),createComment:e=>wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Hi.innerHTML=rl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Hi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Bu=Symbol("_vtc");function qu(e,t,s){const r=e[Bu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Vi=Symbol("_vod"),Hu=Symbol("_vsh"),Vu=Symbol(""),Ku=/(^|;)\s*display\s*:/;function Wu(e,t,s){const r=e.style,n=Te(s);let i=!1;if(s&&!n){if(t)if(Te(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Er(r,a,"")}else for(const o in t)s[o]==null&&Er(r,o,"");for(const o in s)o==="display"&&(i=!0),Er(r,o,s[o])}else if(n){if(t!==s){const o=r[Vu];o&&(s+=";"+o),r.cssText=s,i=Ku.test(s)}}else t&&e.removeAttribute("style");Vi in e&&(e[Vi]=i?r.display:"",e[Hu]&&(r.display="none"))}const Ki=/\s*!important$/;function Er(e,t,s){if(Q(s))s.forEach(r=>Er(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=zu(e,t);Ki.test(s)?e.setProperty(ts(r),s.replace(Ki,""),"important"):e[r]=s}}const Wi=["Webkit","Moz","ms"],on={};function zu(e,t){const s=on[t];if(s)return s;let r=st(t);if(r!=="filter"&&r in e)return on[t]=r;r=Ur(r);for(let n=0;n<Wi.length;n++){const i=Wi[n]+r;if(i in e)return on[t]=i}return t}const zi="http://www.w3.org/1999/xlink";function Ji(e,t,s,r,n,i=Zl(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(zi,t.slice(6,t.length)):e.setAttributeNS(zi,t,s):s==null||i&&!Zo(s)?e.removeAttribute(t):e.setAttribute(t,i?"":qt(s)?String(s):s)}function Gi(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?rl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Zo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function ms(e,t,s,r){e.addEventListener(t,s,r)}function Ju(e,t,s,r){e.removeEventListener(t,s,r)}const Yi=Symbol("_vei");function Gu(e,t,s,r,n=null){const i=e[Yi]||(e[Yi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Yu(t);if(r){const u=i[t]=Zu(r,n);ms(e,a,u,l)}else o&&(Ju(e,a,o,l),i[t]=void 0)}}const Qi=/(?:Once|Passive|Capture)$/;function Yu(e){let t;if(Qi.test(e)){t={};let r;for(;r=e.match(Qi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ts(e.slice(2)),t]}let an=0;const Qu=Promise.resolve(),Xu=()=>an||(Qu.then(()=>an=0),an=Date.now());function Zu(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;_t(eh(r,s.value),t,5,[r])};return s.value=e,s.attached=Xu(),s}function eh(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const Xi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,th=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?qu(e,r,o):t==="style"?Wu(e,s,r):Dr(t)?Kn(t)||Gu(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sh(e,t,r,o))?(Gi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ji(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Te(r))?Gi(e,st(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ji(e,t,r,o))};function sh(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xi(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Xi(t)&&Te(s)?!1:t in e}const Zi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?s=>yr(t,s):t};function rh(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ln=Symbol("_assign"),es={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[ln]=Zi(n);const i=r||n.props&&n.props.type==="number";ms(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=wn(a)),e[ln](a)}),s&&ms(e,"change",()=>{e.value=e.value.trim()}),t||(ms(e,"compositionstart",rh),ms(e,"compositionend",eo),ms(e,"change",eo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[ln]=Zi(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?wn(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},nh=["ctrl","shift","alt","meta"],ih={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nh.some(s=>e[`${s}Key`]&&!t.includes(s))},lr=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=ih[t[o]];if(a&&a(n,t))return}return e(n,...i)})},oh=Ne({patchProp:th},Fu);let to;function ah(){return to||(to=uu(oh))}const lh=(...e)=>{const t=ah().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=uh(r);if(!n)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,ch(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function ch(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function uh(e){return Te(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let nl;const zr=e=>nl=e,il=Symbol();function $n(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ws;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ws||(Ws={}));function hh(){const e=ra(!0),t=e.run(()=>Ce({}));let s=[],r=[];const n=si({install(i){zr(n),n._a=i,i.provide(il,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const ol=()=>{};function so(e,t,s,r=ol){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&na()&&ec(n),n}function ns(e,...t){e.slice().forEach(s=>{s(...t)})}const fh=e=>e(),ro=Symbol(),cn=Symbol();function Rn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];$n(n)&&$n(r)&&e.hasOwnProperty(s)&&!Ee(r)&&!Nt(r)?e[s]=Rn(n,r):e[s]=r}return e}const dh=Symbol();function ph(e){return!$n(e)||!Object.prototype.hasOwnProperty.call(e,dh)}const{assign:Ot}=Object;function gh(e){return!!(Ee(e)&&e.effect)}function mh(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const c=Ec(s.state.value[e]);return Ot(c,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=si(He(()=>{zr(s);const d=s._s.get(e);return o[f].call(d,d)})),h),{}))}return l=al(e,u,t,s,r,!0),l}function al(e,t,s={},r,n,i){let o;const a=Ot({actions:{}},s),l={deep:!0};let u,c,h=[],f=[],d;const _=r.state.value[e];!i&&!_&&(r.state.value[e]={}),Ce({});let y;function C(J){let H;u=c=!1,typeof J=="function"?(J(r.state.value[e]),H={type:Ws.patchFunction,storeId:e,events:d}):(Rn(r.state.value[e],J),H={type:Ws.patchObject,payload:J,storeId:e,events:d});const G=y=Symbol();ri().then(()=>{y===G&&(u=!0)}),c=!0,ns(h,H,r.state.value[e])}const j=i?function(){const{state:H}=s,G=H?H():{};this.$patch(Y=>{Ot(Y,G)})}:ol;function L(){o.stop(),h=[],f=[],r._s.delete(e)}const R=(J,H="")=>{if(ro in J)return J[cn]=H,J;const G=function(){zr(r);const Y=Array.from(arguments),Oe=[],Re=[];function V(T){Oe.push(T)}function I(T){Re.push(T)}ns(f,{args:Y,name:G[cn],store:F,after:V,onError:I});let k;try{k=J.apply(this&&this.$id===e?this:F,Y)}catch(T){throw ns(Re,T),T}return k instanceof Promise?k.then(T=>(ns(Oe,T),T)).catch(T=>(ns(Re,T),Promise.reject(T))):(ns(Oe,k),k)};return G[ro]=!0,G[cn]=H,G},O={_p:r,$id:e,$onAction:so.bind(null,f),$patch:C,$reset:j,$subscribe(J,H={}){const G=so(h,J,H.detached,()=>Y()),Y=o.run(()=>Ss(()=>r.state.value[e],Oe=>{(H.flush==="sync"?c:u)&&J({storeId:e,type:Ws.direct,events:d},Oe)},Ot({},l,H)));return G},$dispose:L},F=Ht(O);r._s.set(e,F);const se=(r._a&&r._a.runWithContext||fh)(()=>r._e.run(()=>(o=ra()).run(()=>t({action:R}))));for(const J in se){const H=se[J];if(Ee(H)&&!gh(H)||Nt(H))i||(_&&ph(H)&&(Ee(H)?H.value=_[J]:Rn(H,_[J])),r.state.value[e][J]=H);else if(typeof H=="function"){const G=R(H,J);se[J]=G,a.actions[J]=H}}return Ot(F,se),Ot(ce(F),se),Object.defineProperty(F,"$state",{get:()=>r.state.value[e],set:J=>{C(H=>{Ot(H,J)})}}),r._p.forEach(J=>{Ot(F,o.run(()=>J({store:F,app:r._a,pinia:r,options:a})))}),_&&i&&s.hydrate&&s.hydrate(F.$state,_),u=!0,c=!0,F}/*! #__NO_SIDE_EFFECTS__ */function hi(e,t,s){let r;const n=typeof t=="function";r=n?s:t;function i(o,a){const l=ru();return o=o||(l?tt(il,null):null),o&&zr(o),o=nl,o._s.has(e)||(n?al(e,t,r,o):mh(e,r,o)),o._s.get(e)}return i.$id=e,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function ll(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _h(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ll(e.default)}const ue=Object.assign;function un(e,t){const s={};for(const r in t){const n=t[r];s[r]=lt(n)?n.map(e):e(n)}return s}const zs=()=>{},lt=Array.isArray,cl=/#/g,vh=/&/g,yh=/\//g,wh=/=/g,bh=/\?/g,ul=/\+/g,Sh=/%5B/g,Eh=/%5D/g,hl=/%5E/g,kh=/%60/g,fl=/%7B/g,Th=/%7C/g,dl=/%7D/g,xh=/%20/g;function fi(e){return encodeURI(""+e).replace(Th,"|").replace(Sh,"[").replace(Eh,"]")}function Ch(e){return fi(e).replace(fl,"{").replace(dl,"}").replace(hl,"^")}function jn(e){return fi(e).replace(ul,"%2B").replace(xh,"+").replace(cl,"%23").replace(vh,"%26").replace(kh,"`").replace(fl,"{").replace(dl,"}").replace(hl,"^")}function Oh(e){return jn(e).replace(wh,"%3D")}function Ah(e){return fi(e).replace(cl,"%23").replace(bh,"%3F")}function Ph(e){return e==null?"":Ah(e).replace(yh,"%2F")}function rr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const $h=/\/$/,Rh=e=>e.replace($h,"");function hn(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Lh(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:rr(o)}}function jh(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function no(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ih(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Ts(t.matched[r],s.matched[n])&&pl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ts(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Dh(e[s],t[s]))return!1;return!0}function Dh(e,t){return lt(e)?io(e,t):lt(t)?io(t,e):e===t}function io(e,t){return lt(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Lh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Ct={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var nr;(function(e){e.pop="pop",e.push="push"})(nr||(nr={}));var Js;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Js||(Js={}));function Mh(e){if(!e)if(_s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rh(e)}const Uh=/^[^#]+#/;function Nh(e,t){return e.replace(Uh,"#")+t}function Fh(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Jr=()=>({left:window.scrollX,top:window.scrollY});function Bh(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Fh(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oo(e,t){return(history.state?history.state.position-t:-1)+e}const In=new Map;function qh(e,t){In.set(e,t)}function Hh(e){const t=In.get(e);return In.delete(e),t}let Vh=()=>location.protocol+"//"+location.host;function gl(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),no(l,"")}return no(s,e)+r+n}function Kh(e,t,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const d=gl(e,location),_=s.value,y=t.value;let C=0;if(f){if(s.value=d,t.value=f,o&&o===_){o=null;return}C=y?f.position-y.position:0}else r(d);n.forEach(j=>{j(s.value,_,{delta:C,type:nr.pop,direction:C?C>0?Js.forward:Js.back:Js.unknown})})};function l(){o=s.value}function u(f){n.push(f);const d=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(ue({},f.state,{scroll:Jr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function ao(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Jr():null}}function Wh(e){const{history:t,location:s}=window,r={value:gl(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:Vh()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(d){console.error(d),s[c?"replace":"assign"](f)}}function o(l,u){const c=ue({},t.state,ao(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=ue({},n.value,t.state,{forward:l,scroll:Jr()});i(c.current,c,!0);const h=ue({},ao(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function zh(e){e=Mh(e);const t=Wh(e),s=Kh(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ue({location:"",base:e,go:r,createHref:Nh.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Jh(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),zh(e)}function Gh(e){return typeof e=="string"||e&&typeof e=="object"}function ml(e){return typeof e=="string"||typeof e=="symbol"}const _l=Symbol("");var lo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lo||(lo={}));function xs(e,t){return ue(new Error,{type:e,[_l]:!0},t)}function yt(e,t){return e instanceof Error&&_l in e&&(t==null||!!(e.type&t))}const co="[^/]+?",Yh={sensitive:!1,strict:!1,start:!0,end:!0},Qh=/[.+*?^${}()[\]/\\]/g;function Xh(e,t){const s=ue({},Yh,t),r=[];let n=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(Qh,"\\$&"),d+=40;else if(f.type===1){const{value:_,repeatable:y,optional:C,regexp:j}=f;i.push({name:_,repeatable:y,optional:C});const L=j||co;if(L!==co){d+=10;try{new RegExp(`(${L})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${_}" (${L}): `+O.message)}}let R=y?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(R=C&&u.length<2?`(?:/${R})`:"/"+R),C&&(R+="?"),n+=R,d+=20,C&&(d+=-8),y&&(d+=-20),L===".*"&&(d+=-50)}c.push(d)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",_=i[f-1];h[_.name]=d&&_.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:_,repeatable:y,optional:C}=d,j=_ in u?u[_]:"";if(lt(j)&&!y)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const L=lt(j)?j.join("/"):j;if(!L)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=L}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Zh(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function vl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=Zh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(uo(r))return 1;if(uo(n))return-1}return n.length-r.length}function uo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ef={type:0,value:""},tf=/[a-zA-Z0-9_]/;function sf(e){if(!e)return[[]];if(e==="/")return[[ef]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${u}": ${d}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:tf.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function rf(e,t,s){const r=Xh(sf(e.path),s),n=ue(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function nf(e,t){const s=[],r=new Map;t=go({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,f,d){const _=!d,y=fo(h);y.aliasOf=d&&d.record;const C=go(t,h),j=[y];if("alias"in h){const O=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of O)j.push(fo(ue({},y,{components:d?d.record.components:y.components,path:F,aliasOf:d?d.record:y})))}let L,R;for(const O of j){const{path:F}=O;if(f&&F[0]!=="/"){const ae=f.record.path,se=ae[ae.length-1]==="/"?"":"/";O.path=f.record.path+(F&&se+F)}if(L=rf(O,f,C),d?d.alias.push(L):(R=R||L,R!==L&&R.alias.push(L),_&&h.name&&!po(L)&&o(h.name)),yl(L)&&l(L),y.children){const ae=y.children;for(let se=0;se<ae.length;se++)i(ae[se],L,d&&d.children[se])}d=d||L}return R?()=>{o(R)}:zs}function o(h){if(ml(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=lf(h,s);s.splice(f,0,h),h.record.name&&!po(h)&&r.set(h.record.name,h)}function u(h,f){let d,_={},y,C;if("name"in h&&h.name){if(d=r.get(h.name),!d)throw xs(1,{location:h});C=d.record.name,_=ue(ho(f.params,d.keys.filter(R=>!R.optional).concat(d.parent?d.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),h.params&&ho(h.params,d.keys.map(R=>R.name))),y=d.stringify(_)}else if(h.path!=null)y=h.path,d=s.find(R=>R.re.test(y)),d&&(_=d.parse(y),C=d.record.name);else{if(d=f.name?r.get(f.name):s.find(R=>R.re.test(f.path)),!d)throw xs(1,{location:h,currentLocation:f});C=d.record.name,_=ue({},f.params,h.params),y=d.stringify(_)}const j=[];let L=d;for(;L;)j.unshift(L.record),L=L.parent;return{name:C,path:y,params:_,matched:j,meta:af(j)}}e.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function ho(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function fo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:of(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function of(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function po(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function af(e){return e.reduce((t,s)=>ue(t,s.meta),{})}function go(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function lf(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;vl(e,t[i])<0?r=i:s=i+1}const n=cf(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function cf(e){let t=e;for(;t=t.parent;)if(yl(t)&&vl(e,t)===0)return t}function yl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function uf(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(ul," "),o=i.indexOf("="),a=rr(o<0?i:i.slice(0,o)),l=o<0?null:rr(i.slice(o+1));if(a in t){let u=t[a];lt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function mo(e){let t="";for(let s in e){const r=e[s];if(s=Oh(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(lt(r)?r.map(i=>i&&jn(i)):[r&&jn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function hf(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=lt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const ff=Symbol(""),_o=Symbol(""),Gr=Symbol(""),di=Symbol(""),Dn=Symbol("");function Is(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function jt(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(xs(4,{from:s,to:t})):f instanceof Error?l(f):Gh(f)?l(xs(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>e.call(r&&r.instances[n],t,s,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function fn(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(ll(l)){const c=(l.__vccOpts||l)[t];c&&i.push(jt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=_h(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&jt(d,s,r,o,a,n)()}))}}return i}function vo(e){const t=tt(Gr),s=tt(di),r=He(()=>{const l=de(e.to);return t.resolve(l)}),n=He(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(Ts.bind(null,c));if(f>-1)return f;const d=yo(l[u-2]);return u>1&&yo(c)===d&&h[h.length-1].path!==d?h.findIndex(Ts.bind(null,l[u-2])):f}),i=He(()=>n.value>-1&&_f(s.params,r.value.params)),o=He(()=>n.value>-1&&n.value===s.matched.length-1&&pl(s.params,r.value.params));function a(l={}){if(mf(l)){const u=t[de(e.replace)?"replace":"push"](de(e.to)).catch(zs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function df(e){return e.length===1?e[0]:e}const pf=$e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vo,setup(e,{slots:t}){const s=Ht(vo(e)),{options:r}=tt(Gr),n=He(()=>({[wo(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[wo(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&df(t.default(s));return e.custom?i:sl("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),gf=pf;function mf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _f(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!lt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function yo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wo=(e,t,s)=>e??t??s,vf=$e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=tt(Dn),n=He(()=>e.route||r.value),i=tt(_o,0),o=He(()=>{let u=de(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=He(()=>n.value.matched[o.value]);br(_o,He(()=>o.value+1)),br(ff,a),br(Dn,n);const l=Ce();return Ss(()=>[l.value,a.value,e.name],([u,c,h],[f,d,_])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Ts(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,f=h&&h.components[c];if(!f)return bo(s.default,{Component:f,route:u});const d=h.props[c],_=d?d===!0?u.params:typeof d=="function"?d(u):d:null,C=sl(f,ue({},_,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return bo(s.default,{Component:C,route:u})||C}}});function bo(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const yf=vf;function wf(e){const t=nf(e.routes,e),s=e.parseQuery||uf,r=e.stringifyQuery||mo,n=e.history,i=Is(),o=Is(),a=Is(),l=wc(Ct);let u=Ct;_s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=un.bind(null,v=>""+v),h=un.bind(null,Ph),f=un.bind(null,rr);function d(v,M){let A,U;return ml(v)?(A=t.getRecordMatcher(v),U=M):U=v,t.addRoute(U,A)}function _(v){const M=t.getRecordMatcher(v);M&&t.removeRoute(M)}function y(){return t.getRoutes().map(v=>v.record)}function C(v){return!!t.getRecordMatcher(v)}function j(v,M){if(M=ue({},M||l.value),typeof v=="string"){const m=hn(s,v,M.path),w=t.resolve({path:m.path},M),S=n.createHref(m.fullPath);return ue(m,w,{params:f(w.params),hash:rr(m.hash),redirectedFrom:void 0,href:S})}let A;if(v.path!=null)A=ue({},v,{path:hn(s,v.path,M.path).path});else{const m=ue({},v.params);for(const w in m)m[w]==null&&delete m[w];A=ue({},v,{params:h(m)}),M.params=h(M.params)}const U=t.resolve(A,M),ie=v.hash||"";U.params=c(f(U.params));const p=jh(r,ue({},v,{hash:Ch(ie),path:U.path})),g=n.createHref(p);return ue({fullPath:p,hash:ie,query:r===mo?hf(v.query):v.query||{}},U,{redirectedFrom:void 0,href:g})}function L(v){return typeof v=="string"?hn(s,v,l.value.path):ue({},v)}function R(v,M){if(u!==v)return xs(8,{from:M,to:v})}function O(v){return se(v)}function F(v){return O(ue(L(v),{replace:!0}))}function ae(v){const M=v.matched[v.matched.length-1];if(M&&M.redirect){const{redirect:A}=M;let U=typeof A=="function"?A(v):A;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=L(U):{path:U},U.params={}),ue({query:v.query,hash:v.hash,params:U.path!=null?{}:v.params},U)}}function se(v,M){const A=u=j(v),U=l.value,ie=v.state,p=v.force,g=v.replace===!0,m=ae(A);if(m)return se(ue(L(m),{state:typeof m=="object"?ue({},ie,m.state):ie,force:p,replace:g}),M||A);const w=A;w.redirectedFrom=M;let S;return!p&&Ih(r,U,A)&&(S=xs(16,{to:w,from:U}),re(U,U,!0,!1)),(S?Promise.resolve(S):G(w,U)).catch(b=>yt(b)?yt(b,2)?b:z(b):E(b,w,U)).then(b=>{if(b){if(yt(b,2))return se(ue({replace:g},L(b.to),{state:typeof b.to=="object"?ue({},ie,b.to.state):ie,force:p}),M||w)}else b=Oe(w,U,!0,g,ie);return Y(w,U,b),b})}function J(v,M){const A=R(v,M);return A?Promise.reject(A):Promise.resolve()}function H(v){const M=Se.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(v):v()}function G(v,M){let A;const[U,ie,p]=bf(v,M);A=fn(U.reverse(),"beforeRouteLeave",v,M);for(const m of U)m.leaveGuards.forEach(w=>{A.push(jt(w,v,M))});const g=J.bind(null,v,M);return A.push(g),xe(A).then(()=>{A=[];for(const m of i.list())A.push(jt(m,v,M));return A.push(g),xe(A)}).then(()=>{A=fn(ie,"beforeRouteUpdate",v,M);for(const m of ie)m.updateGuards.forEach(w=>{A.push(jt(w,v,M))});return A.push(g),xe(A)}).then(()=>{A=[];for(const m of p)if(m.beforeEnter)if(lt(m.beforeEnter))for(const w of m.beforeEnter)A.push(jt(w,v,M));else A.push(jt(m.beforeEnter,v,M));return A.push(g),xe(A)}).then(()=>(v.matched.forEach(m=>m.enterCallbacks={}),A=fn(p,"beforeRouteEnter",v,M,H),A.push(g),xe(A))).then(()=>{A=[];for(const m of o.list())A.push(jt(m,v,M));return A.push(g),xe(A)}).catch(m=>yt(m,8)?m:Promise.reject(m))}function Y(v,M,A){a.list().forEach(U=>H(()=>U(v,M,A)))}function Oe(v,M,A,U,ie){const p=R(v,M);if(p)return p;const g=M===Ct,m=_s?history.state:{};A&&(U||g?n.replace(v.fullPath,ue({scroll:g&&m&&m.scroll},ie)):n.push(v.fullPath,ie)),l.value=v,re(v,M,A,g),z()}let Re;function V(){Re||(Re=n.listen((v,M,A)=>{if(!je.listening)return;const U=j(v),ie=ae(U);if(ie){se(ue(ie,{replace:!0,force:!0}),U).catch(zs);return}u=U;const p=l.value;_s&&qh(oo(p.fullPath,A.delta),Jr()),G(U,p).catch(g=>yt(g,12)?g:yt(g,2)?(se(ue(L(g.to),{force:!0}),U).then(m=>{yt(m,20)&&!A.delta&&A.type===nr.pop&&n.go(-1,!1)}).catch(zs),Promise.reject()):(A.delta&&n.go(-A.delta,!1),E(g,U,p))).then(g=>{g=g||Oe(U,p,!1),g&&(A.delta&&!yt(g,8)?n.go(-A.delta,!1):A.type===nr.pop&&yt(g,20)&&n.go(-1,!1)),Y(U,p,g)}).catch(zs)}))}let I=Is(),k=Is(),T;function E(v,M,A){z(v);const U=k.list();return U.length?U.forEach(ie=>ie(v,M,A)):console.error(v),Promise.reject(v)}function W(){return T&&l.value!==Ct?Promise.resolve():new Promise((v,M)=>{I.add([v,M])})}function z(v){return T||(T=!v,V(),I.list().forEach(([M,A])=>v?A(v):M()),I.reset()),v}function re(v,M,A,U){const{scrollBehavior:ie}=e;if(!_s||!ie)return Promise.resolve();const p=!A&&Hh(oo(v.fullPath,0))||(U||!A)&&history.state&&history.state.scroll||null;return ri().then(()=>ie(v,M,p)).then(g=>g&&Bh(g)).catch(g=>E(g,v,M))}const ne=v=>n.go(v);let ye;const Se=new Set,je={currentRoute:l,listening:!0,addRoute:d,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:y,resolve:j,options:e,push:O,replace:F,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:k.add,isReady:W,install(v){const M=this;v.component("RouterLink",gf),v.component("RouterView",yf),v.config.globalProperties.$router=M,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>de(l)}),_s&&!ye&&l.value===Ct&&(ye=!0,O(n.location).catch(ie=>{}));const A={};for(const ie in Ct)Object.defineProperty(A,ie,{get:()=>l.value[ie],enumerable:!0});v.provide(Gr,M),v.provide(di,ya(A)),v.provide(Dn,l);const U=v.unmount;Se.add(v),v.unmount=function(){Se.delete(v),Se.size<1&&(u=Ct,Re&&Re(),Re=null,l.value=Ct,ye=!1,T=!1),U()}}};function xe(v){return v.reduce((M,A)=>M.then(()=>H(A)),Promise.resolve())}return je}function bf(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Ts(u,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Ts(u,l))||n.push(l))}return[s,r,n]}function pi(){return tt(Gr)}function wl(e){return tt(di)}const Sf="modulepreload",Ef=function(e){return"/vue-kanban/"+e},So={},Cs=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=Ef(u),u in So)return;So[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Sf,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,_)=>{f.addEventListener("load",d),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},kf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class gi extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Tf extends gi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xf extends gi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cf extends gi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ln;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ln||(Ln={}));var Of=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Af{constructor(t,{headers:s={},customFetch:r,region:n=Ln.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=kf(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Of(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(_=>{throw new Tf(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new xf(c);if(!c.ok)throw new Cf(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),d;return f==="application/json"?d=yield c.json():f==="application/octet-stream"?d=yield c.blob():f==="text/event-stream"?d=c:f==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(n){return{data:null,error:n}}})}}function bl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var Ae={},is={},os={},as={},ls={},cs={},$f=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Os=$f();const Rf=Os.fetch,Sl=Os.fetch.bind(Os),El=Os.Headers,jf=Os.Request,If=Os.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:El,Request:jf,Response:If,default:Sl,fetch:Rf},Symbol.toStringTag,{value:"Module"})),Df=Pf(As);var pr={},Eo;function kl(){if(Eo)return pr;Eo=1,Object.defineProperty(pr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return pr.default=e,pr}var ko;function Tl(){if(ko)return cs;ko=1;var e=cs&&cs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(Df),s=e(kl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,f;let d=null,_=null,y=null,C=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const F=await u.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=F:_=JSON.parse(F))}const R=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");R&&O&&O.length>1&&(y=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(d={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,y=null,C=406,j="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const R=await u.text();try{d=JSON.parse(R),Array.isArray(d)&&u.status===404&&(_=[],d=null,C=200,j="OK")}catch{u.status===404&&R===""?(C=204,j="No Content"):d={message:R}}if(d&&this.isMaybeSingle&&(!((f=d==null?void 0:d.details)===null||f===void 0)&&f.includes("0 rows"))&&(d=null,C=200,j="OK"),d&&this.shouldThrowOnError)throw new s.default(d)}return{error:d,data:_,count:y,status:C,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return cs.default=r,cs}var To;function xl(){if(To)return ls;To=1;var e=ls&&ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ls,"__esModule",{value:!0});const t=e(Tl());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ls.default=s,ls}var xo;function mi(){if(xo)return as;xo=1;var e=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0});const t=e(xl());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return as.default=s,as}var Co;function Cl(){if(Co)return os;Co=1;var e=os&&os.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(os,"__esModule",{value:!0});const t=e(mi());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(h.length>0){const f=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return os.default=s,os}var Ds={},Ls={},Oo;function Lf(){return Oo||(Oo=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.version=void 0,Ls.version="0.0.0-automated"),Ls}var Ao;function Mf(){if(Ao)return Ds;Ao=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.DEFAULT_HEADERS=void 0;const e=Lf();return Ds.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ds}var Po;function Uf(){if(Po)return is;Po=1;var e=is&&is.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(is,"__esModule",{value:!0});const t=e(Cl()),s=e(mi()),r=Mf();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const f=new URL(`${this.url}/rpc/${o}`);let d;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([y,C])=>C!==void 0).map(([y,C])=>[y,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([y,C])=>{f.searchParams.append(y,C)})):(h="POST",d=a);const _=Object.assign({},this.headers);return c&&(_.Prefer=`count=${c}`),new s.default({method:h,url:f,headers:_,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}return is.default=n,is}var $o;function Nf(){if($o)return Ae;$o=1;var e=Ae&&Ae.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;const t=e(Uf());Ae.PostgrestClient=t.default;const s=e(Cl());Ae.PostgrestQueryBuilder=s.default;const r=e(mi());Ae.PostgrestFilterBuilder=r.default;const n=e(xl());Ae.PostgrestTransformBuilder=n.default;const i=e(Tl());Ae.PostgrestBuilder=i.default;const o=e(kl());return Ae.PostgrestError=o.default,Ae.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ae}var Ff=Nf();const Bf=bl(Ff),{PostgrestClient:qf,PostgrestQueryBuilder:Xg,PostgrestFilterBuilder:Zg,PostgrestTransformBuilder:em,PostgrestBuilder:tm,PostgrestError:sm}=Bf,Hf="2.11.2",Vf={"X-Client-Info":`realtime-js/${Hf}`},Kf="1.0.0",Ol=1e4,Wf=1e3;var Es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Es||(Es={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nt||(nt={}));var Mn;(function(e){e.websocket="websocket"})(Mn||(Mn={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class zf{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Al{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const Ro=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Jf(o,e,t,n),i),{})},Jf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?Pl(i,o):Un(o)},Pl=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Xf(t,s)}switch(e){case _e.bool:return Gf(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return Yf(t);case _e.json:case _e.jsonb:return Qf(t);case _e.timestamp:return Zf(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Un(t);default:return Un(t)}},Un=e=>e,Gf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xf=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pl(t,a))}return e},Zf=e=>typeof e=="string"?e.replace(" ","T"):e,$l=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dn{constructor(t,s,r={},n=Ol){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jo||(jo={}));class Gs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Gs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Gs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(C=>C.presence_ref),d=h.map(C=>C.presence_ref),_=c.filter(C=>d.indexOf(C.presence_ref)<0),y=h.filter(C=>f.indexOf(C.presence_ref)<0);_.length>0&&(a[u]=_),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(d=>d.presence_ref),f=c.filter(d=>h.indexOf(d.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Io;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Io||(Io={}));var Do;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Do||(Do={}));var bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class _i{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Gs(this),this.broadcastEndpointURL=$l(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(bt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(bt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(bt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,d=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let y=0;y<d;y++){const C=f[y],{filter:{event:j,schema:L,table:R,filter:O}}=C,F=c&&c[y];if(F&&F.event===j&&F.schema===L&&F.table===R&&F.filter===O)_.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),t==null||t(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(bt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new dn(this,nt.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=nt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(d=>{var _,y,C;return((_=d.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(y=d.filter)===null||y===void 0?void 0:y.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(d=>d.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var _,y,C,j,L,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const O=d.id,F=(_=d.filter)===null||_===void 0?void 0:_.event;return O&&((y=s.ids)===null||y===void 0?void 0:y.includes(O))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(L=(j=d==null?void 0:d.filter)===null||j===void 0?void 0:j.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return O==="*"||O===((R=s==null?void 0:s.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:y,table:C,commit_timestamp:j,type:L,errors:R}=_;f=Object.assign(Object.assign({},{schema:y,table:C,commit_timestamp:j,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(_))}d.callback(f,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_i.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nt.close,{},t)}_onError(t){this._on(nt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Ro(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Ro(t.columns,t.old_record)),s}}const ed=()=>{},td=typeof WebSocket<"u",sd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rd{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Vf,this.params={},this.timeout=Ol,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ed,this.conn=null,this.sendBuffer=[],this.serializer=new zf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Cs(async()=>{const{default:l}=await Promise.resolve().then(()=>As);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Mn.websocket}`,this.httpEndpoint=$l(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Al(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(td){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Cs(async()=>{const{default:t}=await import("./browser-DUIzVBbE.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kf}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Yt.Connecting;case Es.open:return Yt.Open;case Es.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(t,s={config:{}}){const r=new _i(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Wf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([sd],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class nd{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Es.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class vi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class id extends vi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nn extends vi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var od=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Rl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},ad=()=>od(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Fn=e=>{if(Array.isArray(e))return e.map(s=>Fn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Fn(r)}),t};var ss=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ld=(e,t,s)=>ss(void 0,void 0,void 0,function*(){const r=yield ad();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new id(pn(n),e.status||500))}).catch(n=>{t(new Nn(pn(n),n))}):t(new Nn(pn(e),e))}),cd=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function cr(e,t,s,r,n,i){return ss(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,cd(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ld(l,a,r))})})}function Ir(e,t,s,r){return ss(this,void 0,void 0,function*(){return cr(e,"GET",t,s,r)})}function It(e,t,s,r,n){return ss(this,void 0,void 0,function*(){return cr(e,"POST",t,r,n,s)})}function ud(e,t,s,r,n){return ss(this,void 0,void 0,function*(){return cr(e,"PUT",t,r,n,s)})}function hd(e,t,s,r){return ss(this,void 0,void 0,function*(){return cr(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function jl(e,t,s,r,n){return ss(this,void 0,void 0,function*(){return cr(e,"DELETE",t,r,n,s)})}var We=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dd{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=Rl(n)}uploadOrUpdate(t,s,r,n){return We(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(t,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return We(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Lo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return We(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield It(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}update(t,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return We(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}copy(t,s,r){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield It(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return We(this,void 0,void 0,function*(){try{const n=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}download(t,s){return We(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ir(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}})}info(t){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Ir(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Fn(r),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}exists(t){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield hd(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Pe(r)&&r instanceof Nn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return We(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}list(t,s,r){return We(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},fd),s),{prefix:t||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const pd="2.7.1",gd={"X-Client-Info":`storage-js/${pd}`};var us=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class md{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},gd),s),this.fetch=Rl(r)}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return us(this,void 0,void 0,function*(){try{return{data:yield ud(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}}class _d extends md{constructor(t,s={},r){super(t,s,r)}from(t){return new dd(this.url,this.headers,t,this.fetch)}}const vd="2.49.8";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const yd={"X-Client-Info":`supabase-js-${Us}/${vd}`},wd={headers:yd},bd={schema:"public"},Sd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ed={};var kd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Td=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sl:t=fetch,(...s)=>t(...s)},xd=()=>typeof Headers>"u"?El:Headers,Cd=(e,t,s)=>{const r=Td(s),n=xd();return(i,o)=>kd(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Od=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Ad(e){return e.endsWith("/")?e:e+"/"}function Pd(e,t){var s,r;const{db:n,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Od(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Il="2.69.1",vs=30*1e3,Bn=3,gn=Bn*vs,$d="http://localhost:9999",Rd="supabase.auth.token",jd={"X-Client-Info":`gotrue-js/${Il}`},qn="X-Supabase-Api-Version",Dl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Id=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dd=6e5;class yi extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ld extends yi{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Md(e){return ee(e)&&e.name==="AuthApiError"}class Ll extends yi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Vt extends yi{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class At extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ud(e){return ee(e)&&e.name==="AuthSessionMissingError"}class mn extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gr extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mr extends Vt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nd(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mo extends Vt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends Vt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function _n(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class Uo extends Vt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ys extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fo=` 	
\r=`.split(""),Fd=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fo.length;t+=1)e[Fo[t].charCodeAt(0)]=-2;for(let t=0;t<No.length;t+=1)e[No[t].charCodeAt(0)]=t;return e})();function Ml(e,t,s){const r=Fd[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bo(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Hd(o,r,s)};for(let o=0;o<e.length;o+=1)Ml(e.charCodeAt(o),n,i);return t.join("")}function Bd(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qd(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Bd(r,t)}}function Hd(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Vd(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Ml(e.charCodeAt(n),s,r);return new Uint8Array(t)}function Kd(e){const t=[];return qd(e,s=>t.push(s)),new Uint8Array(t)}function Wd(e){return Math.round(Date.now()/1e3)+e}function zd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},Qs=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Jd(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Ul=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Gd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},_r=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vr=async(e,t)=>{await e.removeItem(t)};class Yr{constructor(){this.promise=new Yr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Yr.promiseConstructor=Promise;function vn(e){const t=e.split(".");if(t.length!==3)throw new Ys("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Id.test(t[r]))throw new Ys("JWT not in base64url format");return{header:JSON.parse(Bo(t[0])),payload:JSON.parse(Bo(t[1])),signature:Vd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qd(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Xd(e){return("0"+e.toString(16)).substr(-2)}function Zd(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Xd).join("")}async function ep(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function tp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await ep(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(e,t,s=!1){const r=Zd();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Nl(e,`${t}-code-verifier`,n);const i=await tp(r);return[i,r===i?"plain":"s256"]}const sp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rp(e){const t=e.headers.get(qn);if(!t||!t.match(sp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function np(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ip(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var op=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Gt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ap=[502,503,504];async function qo(e){var t;if(!Gd(e))throw new Hn(Gt(e),0);if(ap.includes(e.status))throw new Hn(Gt(e),e.status);let s;try{s=await e.json()}catch(i){throw new Ll(Gt(i),i)}let r;const n=rp(e);if(n&&n.getTime()>=Dl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Uo(Gt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uo(Gt(s),e.status,s.weak_password.reasons);throw new Ld(Gt(s),e.status||500,r)}const lp=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function oe(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[qn]||(i[qn]=Dl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cp(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cp(e,t,s,r,n,i){const o=lp(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Hn(Gt(l),0)}if(a.ok||await qo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await qo(l)}}function Pt(e){var t;let s=null;dp(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Wd(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Ho(e){const t=Pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function up(e){return{data:e,error:null}}function hp(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=op(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fp(e){return e}function dp(e){return e.access_token&&e.refresh_token&&e.expires_in}var pp=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class gp{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Ul(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dt})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=pp(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:hp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:fp});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);u[`${C}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Dt})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dt})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}const mp={getItem:e=>Qs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Qs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Qs()&&globalThis.localStorage.removeItem(e)}};function Vo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function _p(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&Qs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vp extends Fl{}async function yp(e,t,s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}_p();const wp={url:$d,storageKey:Rd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ko(e,t,s){return await s()}class ir{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ir.nextInstanceID,ir.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},wp),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new gp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ul(n.fetch),this.lock=n.lock||Ko,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:dt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yp:this.lock=Ko,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Qs()?this.storage=mp:(this.memoryStorage={},this.storage=Vo(this.memoryStorage)):(this.memoryStorage={},this.storage=Vo(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Il}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Jd(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nd(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?{error:s}:{error:new Ll("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let d=null,_=null;this.flowType==="pkce"&&([d,_]=await hs(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:_},xform:Pt})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Pt})}else throw new gr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ho})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ho})}else throw new gr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await _r(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Pt});if(await vr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new mn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await hs(this.storage,this.storageKey));const{error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new gr("You must provide either an email or phone number.")}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hs(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:up})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new At;const{error:n}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gr("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(s){if(ee(s))return Ud(s)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new At;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await hs(this.storage,this.storageKey));const{data:u,error:c}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new At;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=vn(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new At;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!dt())throw new mr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Mo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mo("No code detected.");const{data:L,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new mr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const d=f-c;d*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const _=f-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,c);const{data:y,error:C}=await this._getUser(i);if(C)throw C;const j={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(r){if(ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Md(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=zd(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await hs(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return dt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ee(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Qd(async n=>(n>0&&await Yd(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&_n(i)&&Date.now()+o-r<vs})}catch(r){if(this._debug(s,"error",r),ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),dt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await _r(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gn;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${gn}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),_n(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Yr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),ee(i)){const o={session:null,error:i};return _n(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Nl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await vr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vs}ms, refresh threshold is ${Bn} ticks`),n<=Bn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await hs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Dd>Date.now()))return r;const{data:n,error:i}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ys("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new Ys("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:d,error:_}=await this.getSession();if(_||!d.session)return{data:null,error:_};r=d.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=vn(r);if(np(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:i,header:n,signature:o},error:null}}const u=ip(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Kd(`${a}.${l}`)))throw new Ys("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}}ir.nextInstanceID=0;const bp=ir;class Sp extends bp{constructor(t){super(t)}}var Ep=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class kp{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Ad(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:bd,realtime:Ed,auth:Object.assign(Object.assign({},Sd),{storageKey:u}),global:wd},h=Pd(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Cd(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qf(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Af(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _d(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Ep(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sp({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rd(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tp=(e,t,s)=>new kp(e,t,s),xp="https://lncqycaiwbgqvhsmybfa.supabase.co",Cp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuY3F5Y2Fpd2JncXZoc215YmZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0NTA4MDQsImV4cCI6MjA2NDAyNjgwNH0.DqllxWiscxQ5LAFcGFUbnPnKP0OdeN0V8JeGQMUX9SY",Qe=Tp(xp,Cp),Op={auth:localStorage.getItem("sb-lncqycaiwbgqvhsmybfa-auth-token")??null,user_id:""},Mt=hi("auth",{state:()=>Op,getters:{isAuthenticated:e=>!!e.auth},actions:{async initialize(){const{data:{user:e}}=await Qe.auth.getUser();e!=null&&e.id&&(this.user_id=e.id)},async login(e){const{error:t}=await Qe.auth.signInWithPassword({email:e.login,password:e.password});if(t)throw t;this.auth=localStorage.getItem("sb-lncqycaiwbgqvhsmybfa-auth-token")},async register(e){const{error:t}=await Qe.auth.signUp({email:e.login,password:e.password});if(t)throw t},async logout(){const{error:e}=await Qe.auth.signOut();if(e)throw e;this.auth=null,this.user_id=""}}}),Ap={cards:[],completeCards:[]},Ps=hi("kanban",{state:()=>Ap,getters:{getQueue:e=>e.cards.filter(t=>t.category==="queue"),getWork:e=>e.cards.filter(t=>t.category==="work"),getReview:e=>e.cards.filter(t=>t.category==="review"),getDone:e=>e.cards.filter(t=>t.category==="done")},actions:{async loadCards(){try{await Mt().initialize();const{data:e,error:t}=await Qe.from("cards").select().eq("user_id",Mt().user_id);if(t)throw t;this.cards=e}catch(e){console.error("Ошибка при загрузке карточек:",e)}},async loadCompleteCards(){try{await Mt().initialize();const{data:e,error:t}=await Qe.from("completeCards").select().eq("user_id",Mt().user_id);if(t)throw t;this.completeCards=e}catch(e){console.error("Ошибка при загрузке завершенных карточек:",e)}},async add(e){try{const{error:t}=await Qe.from("cards").insert(e);if(t)throw t;this.cards.push(e)}catch(t){console.error("Ошибка при добавлении карточки:",t)}},async edit(e){try{const{error:t}=await Qe.from("cards").update({title:e.title,descr:e.descr}).eq("id",e.id);if(t)throw t;this.cards=this.cards.map(s=>s.id===e.id?{...s,...e}:s)}catch(t){console.error("Ошибка при редактировании карточки:",t)}},async addComment(e,t){try{const s=this.cards.find(i=>i.id===e);if(!s)throw new Error(`Карточка с id-"${e}" не найдена`);const r=[...s.comments,t],{error:n}=await Qe.from("cards").update({comments:r}).eq("id",e);if(n)throw n;s==null||s.comments.push(t)}catch(s){console.error("Ошибка при добавлении комментария:",s)}},async changeCategory(e,t){try{const{error:s}=await Qe.from("cards").update({category:t}).eq("id",e);if(s)throw s;this.cards=this.cards.map(r=>r.id===e?{...r,category:t}:r)}catch(s){console.error("Ошибка при изменении категории:",s)}},async complete(e){try{const{error:t}=await Qe.from("cards").delete().eq("id",e);if(t)throw t;try{const s=this.cards.find(n=>n.id===e),{error:r}=await Qe.from("completeCards").insert(s);if(r)throw r;s&&this.completeCards.push(s),this.cards=this.cards.filter(n=>n.id!==e)}catch(s){console.error("Ошибка при завершении карточки (добавление в completeCards):",s)}}catch(t){console.error("Ошибка при завершении карточки (удаление из cards):",t)}},async delete(e){try{const{error:t}=await Qe.from("completeCards").delete().eq("id",e);if(t)throw t;this.completeCards=this.completeCards.filter(s=>s.id!==e)}catch(t){console.error("Ошибка при удалении карточки:",t)}}}}),Ie=[];for(let e=0;e<256;++e)Ie.push((e+256).toString(16).slice(1));function Pp(e,t=0){return(Ie[e[t+0]]+Ie[e[t+1]]+Ie[e[t+2]]+Ie[e[t+3]]+"-"+Ie[e[t+4]]+Ie[e[t+5]]+"-"+Ie[e[t+6]]+Ie[e[t+7]]+"-"+Ie[e[t+8]]+Ie[e[t+9]]+"-"+Ie[e[t+10]]+Ie[e[t+11]]+Ie[e[t+12]]+Ie[e[t+13]]+Ie[e[t+14]]+Ie[e[t+15]]).toLowerCase()}let yn;const $p=new Uint8Array(16);function Rp(){if(!yn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yn=crypto.getRandomValues.bind(crypto)}return yn($p)}const jp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wo={randomUUID:jp};function Bl(e,t,s){var n;if(Wo.randomUUID&&!e)return Wo.randomUUID();e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??Rp();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Pp(r)}function Ip(e){const t=Ps(),s=Ce(""),r=Ce(null),n=()=>{r.value&&r.value.scrollTo({top:r.value.scrollHeight,behavior:"smooth"})};return at(n),{commentsContainer:r,commentText:s,addComment:async()=>{if(s.value.trim().length){const o={text:s.value,id:Bl(),time:Date.now()};await t.addComment(e.card.id,o),s.value="",n()}}}}var kr={exports:{}},Dp=kr.exports,zo;function Lp(){return zo||(zo=1,function(e,t){(function(s,r){e.exports=r()})(Dp,function(){var s=1e3,r=6e4,n=36e5,i="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",f="quarter",d="year",_="date",y="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var I=["th","st","nd","rd"],k=V%100;return"["+V+(I[(k-20)%10]||I[k]||I[0])+"]"}},R=function(V,I,k){var T=String(V);return!T||T.length>=I?V:""+Array(I+1-T.length).join(k)+V},O={s:R,z:function(V){var I=-V.utcOffset(),k=Math.abs(I),T=Math.floor(k/60),E=k%60;return(I<=0?"+":"-")+R(T,2,"0")+":"+R(E,2,"0")},m:function V(I,k){if(I.date()<k.date())return-V(k,I);var T=12*(k.year()-I.year())+(k.month()-I.month()),E=I.clone().add(T,h),W=k-E<0,z=I.clone().add(T+(W?-1:1),h);return+(-(T+(k-E)/(W?E-z:z-E))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:h,y:d,w:c,d:u,D:_,h:l,m:a,s:o,ms:i,Q:f}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},F="en",ae={};ae[F]=L;var se="$isDayjsObject",J=function(V){return V instanceof Oe||!(!V||!V[se])},H=function V(I,k,T){var E;if(!I)return F;if(typeof I=="string"){var W=I.toLowerCase();ae[W]&&(E=W),k&&(ae[W]=k,E=W);var z=I.split("-");if(!E&&z.length>1)return V(z[0])}else{var re=I.name;ae[re]=I,E=re}return!T&&E&&(F=E),E||!T&&F},G=function(V,I){if(J(V))return V.clone();var k=typeof I=="object"?I:{};return k.date=V,k.args=arguments,new Oe(k)},Y=O;Y.l=H,Y.i=J,Y.w=function(V,I){return G(V,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var Oe=function(){function V(k){this.$L=H(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[se]=!0}var I=V.prototype;return I.parse=function(k){this.$d=function(T){var E=T.date,W=T.utc;if(E===null)return new Date(NaN);if(Y.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var z=E.match(C);if(z){var re=z[2]-1||0,ne=(z[7]||"0").substring(0,3);return W?new Date(Date.UTC(z[1],re,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ne)):new Date(z[1],re,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ne)}}return new Date(E)}(k),this.init()},I.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},I.$utils=function(){return Y},I.isValid=function(){return this.$d.toString()!==y},I.isSame=function(k,T){var E=G(k);return this.startOf(T)<=E&&E<=this.endOf(T)},I.isAfter=function(k,T){return G(k)<this.startOf(T)},I.isBefore=function(k,T){return this.endOf(T)<G(k)},I.$g=function(k,T,E){return Y.u(k)?this[T]:this.set(E,k)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(k,T){var E=this,W=!!Y.u(T)||T,z=Y.p(k),re=function(A,U){var ie=Y.w(E.$u?Date.UTC(E.$y,U,A):new Date(E.$y,U,A),E);return W?ie:ie.endOf(u)},ne=function(A,U){return Y.w(E.toDate()[A].apply(E.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(U)),E)},ye=this.$W,Se=this.$M,je=this.$D,xe="set"+(this.$u?"UTC":"");switch(z){case d:return W?re(1,0):re(31,11);case h:return W?re(1,Se):re(0,Se+1);case c:var v=this.$locale().weekStart||0,M=(ye<v?ye+7:ye)-v;return re(W?je-M:je+(6-M),Se);case u:case _:return ne(xe+"Hours",0);case l:return ne(xe+"Minutes",1);case a:return ne(xe+"Seconds",2);case o:return ne(xe+"Milliseconds",3);default:return this.clone()}},I.endOf=function(k){return this.startOf(k,!1)},I.$set=function(k,T){var E,W=Y.p(k),z="set"+(this.$u?"UTC":""),re=(E={},E[u]=z+"Date",E[_]=z+"Date",E[h]=z+"Month",E[d]=z+"FullYear",E[l]=z+"Hours",E[a]=z+"Minutes",E[o]=z+"Seconds",E[i]=z+"Milliseconds",E)[W],ne=W===u?this.$D+(T-this.$W):T;if(W===h||W===d){var ye=this.clone().set(_,1);ye.$d[re](ne),ye.init(),this.$d=ye.set(_,Math.min(this.$D,ye.daysInMonth())).$d}else re&&this.$d[re](ne);return this.init(),this},I.set=function(k,T){return this.clone().$set(k,T)},I.get=function(k){return this[Y.p(k)]()},I.add=function(k,T){var E,W=this;k=Number(k);var z=Y.p(T),re=function(Se){var je=G(W);return Y.w(je.date(je.date()+Math.round(Se*k)),W)};if(z===h)return this.set(h,this.$M+k);if(z===d)return this.set(d,this.$y+k);if(z===u)return re(1);if(z===c)return re(7);var ne=(E={},E[a]=r,E[l]=n,E[o]=s,E)[z]||1,ye=this.$d.getTime()+k*ne;return Y.w(ye,this)},I.subtract=function(k,T){return this.add(-1*k,T)},I.format=function(k){var T=this,E=this.$locale();if(!this.isValid())return E.invalidDate||y;var W=k||"YYYY-MM-DDTHH:mm:ssZ",z=Y.z(this),re=this.$H,ne=this.$m,ye=this.$M,Se=E.weekdays,je=E.months,xe=E.meridiem,v=function(U,ie,p,g){return U&&(U[ie]||U(T,W))||p[ie].slice(0,g)},M=function(U){return Y.s(re%12||12,U,"0")},A=xe||function(U,ie,p){var g=U<12?"AM":"PM";return p?g.toLowerCase():g};return W.replace(j,function(U,ie){return ie||function(p){switch(p){case"YY":return String(T.$y).slice(-2);case"YYYY":return Y.s(T.$y,4,"0");case"M":return ye+1;case"MM":return Y.s(ye+1,2,"0");case"MMM":return v(E.monthsShort,ye,je,3);case"MMMM":return v(je,ye);case"D":return T.$D;case"DD":return Y.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return v(E.weekdaysMin,T.$W,Se,2);case"ddd":return v(E.weekdaysShort,T.$W,Se,3);case"dddd":return Se[T.$W];case"H":return String(re);case"HH":return Y.s(re,2,"0");case"h":return M(1);case"hh":return M(2);case"a":return A(re,ne,!0);case"A":return A(re,ne,!1);case"m":return String(ne);case"mm":return Y.s(ne,2,"0");case"s":return String(T.$s);case"ss":return Y.s(T.$s,2,"0");case"SSS":return Y.s(T.$ms,3,"0");case"Z":return z}return null}(U)||z.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(k,T,E){var W,z=this,re=Y.p(T),ne=G(k),ye=(ne.utcOffset()-this.utcOffset())*r,Se=this-ne,je=function(){return Y.m(z,ne)};switch(re){case d:W=je()/12;break;case h:W=je();break;case f:W=je()/3;break;case c:W=(Se-ye)/6048e5;break;case u:W=(Se-ye)/864e5;break;case l:W=Se/n;break;case a:W=Se/r;break;case o:W=Se/s;break;default:W=Se}return E?W:Y.a(W)},I.daysInMonth=function(){return this.endOf(h).$D},I.$locale=function(){return ae[this.$L]},I.locale=function(k,T){if(!k)return this.$L;var E=this.clone(),W=H(k,T,!0);return W&&(E.$L=W),E},I.clone=function(){return Y.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},V}(),Re=Oe.prototype;return G.prototype=Re,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",d],["$D",_]].forEach(function(V){Re[V[1]]=function(I){return this.$g(I,V[0],V[1])}}),G.extend=function(V,I){return V.$i||(V(I,Oe,G),V.$i=!0),G},G.locale=H,G.isDayjs=J,G.unix=function(V){return G(1e3*V)},G.en=ae[F],G.Ls=ae,G.p={},G})}(kr)),kr.exports}var Mp=Lp();const Up=bl(Mp),Np={class:"aside__comments-item"},Fp=$e({__name:"Comment",props:{comment:{}},setup(e){return(t,s)=>(te(),pe("li",Np,[B("span",null,rt(de(Up)(t.comment.time).format("DD MMMM YYYY HH:mm")),1),B("p",null,rt(t.comment.text),1)]))}}),Ve=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Bp=Ve(Fp,[["__scopeId","data-v-7dda9fbc"]]),qp={class:"aside__comments"},Hp=$e({__name:"AsideComments",props:{complete:{type:Boolean},card:{}},setup(e){const t=e,{commentsContainer:s,commentText:r,addComment:n}=Ip(t);return(i,o)=>(te(),pe("div",qp,[o[3]||(o[3]=B("h4",{class:"aside__comments-title"},"Комментарии:",-1)),B("ul",{ref_key:"commentsContainer",ref:s,class:"aside__comments-content"},[(te(!0),pe(ke,null,Hr(i.card.comments,a=>(te(),Ze(Bp,{comment:a},null,8,["comment"]))),256))],512),i.complete?Lt("",!0):(te(),pe("form",{key:0,class:"aside__comments-control",onSubmit:o[1]||(o[1]=lr((...a)=>de(n)&&de(n)(...a),["prevent"]))},[Zt(B("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>Ee(r)?r.value=a:null),type:"text",placeholder:"Введите комментарий . . ."},null,512),[[es,de(r)]]),o[2]||(o[2]=B("button",{type:"submit",class:"aside__btn"},"Добавить",-1))],32))]))}}),Vp=Ve(Hp,[["__scopeId","data-v-fd101115"]]),Kp=$e({__name:"EditForm",props:{card:{}},emits:["close","edit"],setup(e,{emit:t}){const s=t,r=e,n=Ce(null);at(()=>{var u;return(u=n.value)==null?void 0:u.focus()});const i=Ht({title:r.card.title,descr:r.card.descr,id:r.card.id}),o=()=>{i.title.length&&i.descr.length&&s("edit",i)},a=async()=>{l.value=!1,await new Promise(u=>setTimeout(u,250)),s("close")},l=Ce(!1);return at(()=>l.value=!0),(u,c)=>(te(),pe(ke,null,[B("div",{onClick:a,class:ot(["overlay",{active:l.value}])},null,2),B("form",{class:ot(["form",{active:l.value}]),onSubmit:lr(o,["prevent"])},[c[2]||(c[2]=B("h4",{class:"form__title"},"Редактирование",-1)),Zt(B("input",{class:"form__input",type:"text",placeholder:"Введите заголовок","onUpdate:modelValue":c[0]||(c[0]=h=>i.title=h),ref_key:"titleInput",ref:n},null,512),[[es,i.title]]),Zt(B("textarea",{class:"form__input textarea",type:"text",placeholder:"Введите описание","onUpdate:modelValue":c[1]||(c[1]=h=>i.descr=h)},null,512),[[es,i.descr]]),c[3]||(c[3]=B("button",{class:"form__btn"},"Изменить",-1))],34)],64))}}),Wp=Ve(Kp,[["__scopeId","data-v-da5b595e"]]),zp={class:"aside__info"},Jp={class:"aside__item"},Gp={class:"aside__item-text"},Yp={class:"aside__item"},Qp={class:"aside__item-text"},Xp=$e({__name:"AsideInfo",props:{complete:{type:Boolean},card:{}},setup(e){const t=e,s=Ps(),r=Ce(!1),n=a=>{s.edit(a),r.value=!1},i=()=>s.complete(t.card.id),o=()=>s.delete(t.card.id);return(a,l)=>(te(),pe(ke,null,[(te(),Ze(ii,{to:"body"},[r.value?(te(),Ze(Wp,{key:0,card:a.card,onClose:l[0]||(l[0]=u=>r.value=!1),onEdit:n},null,8,["card"])):Lt("",!0)])),B("div",zp,[B("div",Jp,[l[2]||(l[2]=B("span",null,"Заголовок",-1)),B("h5",Gp,rt(a.card.title),1)]),B("div",Yp,[l[3]||(l[3]=B("span",null,"Описание",-1)),B("p",Qp,rt(a.card.descr),1)]),a.complete?Lt("",!0):(te(),pe("button",{key:0,onClick:l[1]||(l[1]=u=>r.value=!0),class:"aside__btn"}," Редактировать ")),a.complete?Lt("",!0):(te(),pe("button",{key:1,onClick:i,class:"aside__btn end"}," Завершить ")),a.complete?(te(),pe("button",{key:2,onClick:o,class:"aside__btn end",style:{margin:"0"}}," Удалить ")):Lt("",!0)])],64))}}),Zp=Ve(Xp,[["__scopeId","data-v-5f169197"]]),eg=$e({__name:"ViewAside",props:{complete:{type:Boolean,default:!1},card:{}},emits:["close"],setup(e,{emit:t}){const s=t,r=async()=>{n.value=!1,await new Promise(i=>setTimeout(i,350)),s("close")},n=Ce(!1);return at(()=>n.value=!0),(i,o)=>(te(),pe(ke,null,[B("div",{onClick:r,class:ot(["overlay",{active:n.value}])},null,2),B("div",{class:ot(["aside",{active:n.value}])},[o[0]||(o[0]=B("h4",{class:"aside__title"},"Подробнее...",-1)),we(Zp,{card:i.card},null,8,["card"]),we(Vp,{card:i.card,complete:i.complete},null,8,["card","complete"])],2)],64))}}),tg=Ve(eg,[["__scopeId","data-v-351af1d3"]]),sg={class:"card__title"},rg={class:"card__descr"},ng=$e({__name:"Card",props:{complete:{type:Boolean,default:!1},card:{}},emits:["dragstart"],setup(e,{emit:t}){const s=t,r=Ce(!1),n=Ce(!1);return at(()=>{setTimeout(()=>n.value=!0,10)}),(i,o)=>(te(),pe(ke,null,[(te(),Ze(ii,{to:"body"},[r.value?(te(),Ze(tg,{key:0,onClose:o[0]||(o[0]=a=>r.value=!1),card:i.card,complete:i.complete},null,8,["card","complete"])):Lt("",!0)])),B("div",{onClick:o[1]||(o[1]=a=>r.value=!0),class:ot(["card",{active:n.value}]),draggable:"true",onDragstart:o[2]||(o[2]=a=>s("dragstart",i.card))},[B("h3",sg,rt(i.card.title),1),B("p",rg,rt(i.card.descr),1),o[3]||(o[3]=B("button",{class:"card__btn"},"Подробнее . . .",-1))],34)],64))}}),ql=Ve(ng,[["__scopeId","data-v-22fea568"]]),ig=$e({__name:"AddForm",props:{category:{}},emits:["close","add"],setup(e,{emit:t}){const s=t,r=e,n=Ce(null);at(()=>{var c;return(c=n.value)==null?void 0:c.focus()});const i=Mt(),o=Ht({title:"",descr:"",id:"",comments:[],category:r.category,user_id:i.user_id}),a=()=>{o.title.length&&o.descr.length&&(o.id=Bl(),s("add",o))},l=async()=>{u.value=!1,await new Promise(c=>setTimeout(c,250)),s("close")},u=Ce(!1);return at(()=>u.value=!0),(c,h)=>(te(),pe(ke,null,[B("div",{onClick:l,class:ot(["overlay",{active:u.value}])},null,2),B("form",{class:ot(["form",{active:u.value}]),onSubmit:lr(a,["prevent"])},[h[2]||(h[2]=B("h4",{class:"form__title"},"Создание новой карточки",-1)),Zt(B("input",{class:"form__input",type:"text",placeholder:"Введите заголовок","onUpdate:modelValue":h[0]||(h[0]=f=>o.title=f),ref_key:"titleInput",ref:n},null,512),[[es,o.title]]),Zt(B("textarea",{class:"form__input textarea",type:"text",placeholder:"Введите описание","onUpdate:modelValue":h[1]||(h[1]=f=>o.descr=f)},null,512),[[es,o.descr]]),h[3]||(h[3]=B("button",{class:"form__btn"},"Добавить",-1))],34)],64))}}),og=Ve(ig,[["__scopeId","data-v-ef234cb9"]]),ag={dragState:{card:null,sourceCategory:null}},lg=hi("drag",{state:()=>ag,actions:{startDrag(e,t){this.dragState.card=e,this.dragState.sourceCategory=t},endDrag(){this.dragState.card=null,this.dragState.sourceCategory=null}}});function cg(e){const t=Ps(),s=lg();return{handleDragStart:a=>s.startDrag(a,e.category),handleDragOver:a=>{a.preventDefault();const{currentTarget:l}=a;l instanceof HTMLElement&&(l==null||l.classList.add("drag-over"))},handleDragLeave:a=>{const{currentTarget:l}=a;l instanceof HTMLElement&&(l==null||l.classList.remove("drag-over"))},handleDrop:a=>{a.preventDefault();const{currentTarget:l}=a;l instanceof HTMLElement&&(l==null||l.classList.remove("drag-over"));const{card:u,sourceCategory:c}=s.dragState;u&&c!==e.category&&t.changeCategory(u.id,e.category),s.endDrag()}}}const ug={class:"board__title"},hg={key:0,class:"board__cards"},fg={key:1,class:"board__col-else"},dg=$e({__name:"Column",props:{category:{}},setup(e){const t={queue:"В очереди",work:"В работе",review:"На проверке",done:"Готово"},s=e,r=Ps(),n=He(()=>{switch(s.category){case"queue":return r.getQueue;case"work":return r.getWork;case"review":return r.getReview;case"done":return r.getDone}}),i=Ce(!1),o=h=>{r.add(h),i.value=!1},{handleDragStart:a,handleDragOver:l,handleDragLeave:u,handleDrop:c}=cg(s);return(h,f)=>(te(),pe(ke,null,[(te(),Ze(ii,{to:"body"},[i.value?(te(),Ze(og,{key:0,onClose:f[0]||(f[0]=d=>i.value=!1),onAdd:o,category:h.category},null,8,["category"])):Lt("",!0)])),B("div",{class:"board__col",onDragover:f[2]||(f[2]=(...d)=>de(l)&&de(l)(...d)),onDragleave:f[3]||(f[3]=(...d)=>de(u)&&de(u)(...d)),onDrop:f[4]||(f[4]=(...d)=>de(c)&&de(c)(...d))},[B("h4",ug,rt(t[h.category]),1),B("span",{onClick:f[1]||(f[1]=d=>i.value=!0),class:"board__col-add"},"+"),n.value.length?(te(),pe("div",hg,[(te(!0),pe(ke,null,Hr(n.value,d=>(te(),Ze(ql,{key:d.id,card:d,onDragstart:de(a)},null,8,["card","onDragstart"]))),128))])):(te(),pe("p",fg,"Пусто"))],32)],64))}}),pg=Ve(dg,[["__scopeId","data-v-ca8b16da"]]),gg={class:"board"},mg=$e({__name:"Home",setup(e){Ps().loadCards();const t=["queue","work","review","done"];return(s,r)=>(te(),pe("div",gg,[(te(),pe(ke,null,Hr(t,n=>we(pg,{key:n,category:n},null,8,["category"])),64))]))}}),_g=Ve(mg,[["__scopeId","data-v-f244dc2c"]]);function vg(){const e=wl(),t=Ce(""),s=Ce(!1),r=He(()=>s.value&&t.value.length),n=o=>{t.value=o,s.value=!0},i=()=>s.value=!1;return Ss(e,async()=>{i(),e.query.message==="requiredAuth"&&n("Нужно сначала войти")}),at(()=>{e.query.message==="requiredAuth"&&n("Нужно сначала войти")}),{errorText:t,isThereError:r,closeError:i,setError:n}}function yg(){const e=Mt(),t=wl(),s=pi(),r=He(()=>t.query.action==="login"),n=Ht({login:"",password:""});return{isLogin:r,data:n,handleSubmit:async()=>{if(n.login.length&&n.password.length)try{r.value?await e.login(n):await e.register(n),n.login="",n.password="",r.value&&s.push("/")}catch(o){throw o}}}}const wg=$e({__name:"ErrorNotification",props:{errorText:{}},emits:["close"],setup(e,{emit:t}){const s=t,r=Ce(!1);at(()=>{setTimeout(()=>r.value=!0,10)});const n=async()=>{r.value=!1,await new Promise(i=>setTimeout(i,300)),s("close")};return(i,o)=>(te(),pe("div",{class:ot(["error",{active:r.value}])},[B("p",null,rt(i.errorText),1),B("span",{onClick:n},"✕")],2))}}),bg=Ve(wg,[["__scopeId","data-v-076f7b4e"]]),Sg={class:"auth"},Eg={class:"auth__title"},kg={type:"submit",class:"auth__form-btn"},Tg=$e({__name:"AuthForm",setup(e){const t=Ce(null);at(()=>{var c;return(c=t.value)==null?void 0:c.focus()});const{errorText:s,isThereError:r,closeError:n,setError:i}=vg(),{isLogin:o,data:a,handleSubmit:l}=yg(),u=async()=>{try{await l(),o.value||i("Подтвердите ваш email")}catch(c){c instanceof Error&&i(c.message)}};return(c,h)=>(te(),pe("div",Sg,[de(r)?(te(),Ze(bg,{key:0,onClose:de(n),errorText:de(s)},null,8,["onClose","errorText"])):Lt("",!0),B("h3",Eg,rt(de(o)?"Авторизация":"Регистрация"),1),B("form",{class:"auth__form",onSubmit:lr(u,["prevent"])},[Zt(B("input",{ref_key:"inputRef",ref:t,class:"auth__form-input",type:"email",placeholder:"Введите эл. почту","onUpdate:modelValue":h[0]||(h[0]=f=>de(a).login=f)},null,512),[[es,de(a).login]]),Zt(B("input",{class:"auth__form-input",type:"password",placeholder:"Введите пароль",minlength:"6","onUpdate:modelValue":h[1]||(h[1]=f=>de(a).password=f)},null,512),[[es,de(a).password]]),B("button",kg,rt(de(o)?"Войти":"Зарегистрироваться"),1)],32)]))}}),xg=Ve(Tg,[["__scopeId","data-v-ad1bf985"]]),Cg=$e({__name:"Auth",setup(e){return(t,s)=>(te(),Ze(xg))}}),Og={class:"board"},Ag={key:1,class:"board__else"},Pg=$e({__name:"Complete",setup(e){const t=Ps();return t.loadCompleteCards(),(s,r)=>(te(),pe("div",Og,[de(t).completeCards.length?(te(!0),pe(ke,{key:0},Hr(de(t).completeCards,n=>(te(),Ze(ql,{key:n.id,card:n,complete:!0},null,8,["card"]))),128)):(te(),pe("p",Ag,"Завершенных карточек пока нет..."))]))}}),$g=Ve(Pg,[["__scopeId","data-v-4ef7e156"]]),Rg=[{path:"/",component:_g,meta:{auth:!0}},{path:"/auth",name:"auth",component:Cg,meta:{auth:!1}},{path:"/complete-tasks",component:$g,meta:{auth:!0}}],jg=wf({history:Jh(),routes:Rg,linkActiveClass:"active",linkExactActiveClass:"active"}),Ig={class:"wrapper"},Dg={class:"switch"},Lg=["checked"],Mg=$e({__name:"Toggle",setup(e){const t=document.documentElement.classList.value,s=Ce(t==="dark"),r=()=>{s.value=!s.value,document.documentElement.classList.toggle("dark")};return(n,i)=>(te(),pe("label",Ig,[B("p",null,rt(s.value?"Темная тема":"Светлая тема"),1),B("span",Dg,[B("input",{type:"checkbox",onClick:r,checked:s.value},null,8,Lg),i[0]||(i[0]=B("span",{class:"slider"},null,-1))])]))}}),Ug=Ve(Mg,[["__scopeId","data-v-c2c7be78"]]),Ng={},Fg={fill:"#000000",height:"18px",width:"18px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384.971 384.971","xml:space":"preserve"};function Bg(e,t){return te(),pe("svg",Fg,t[0]||(t[0]=[B("g",null,[B("g",{id:"Sign_Out"},[B("path",{d:`M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03\r
			C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03\r
			C192.485,366.299,187.095,360.91,180.455,360.91z`}),B("path",{d:`M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279\r
			c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179\r
			c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z`})]),B("g"),B("g"),B("g"),B("g"),B("g"),B("g")],-1)]))}const qg=Ve(Ng,[["render",Bg],["__scopeId","data-v-31036b4f"]]),Hg={class:"header"},Vg={class:"container header__container"},Kg={class:"header__nav"},Wg={class:"header__right"},zg={class:"header__nav auth"},Jg=$e({__name:"TheHeader",setup(e){const t=Mt(),s=pi(),r=async()=>{await t.logout(),await s.push("/auth?action=login")};return(n,i)=>{const o=Da("router-link");return te(),pe("header",Hg,[B("div",Vg,[we(o,{to:"/",class:"header__title"},{default:ps(()=>i[0]||(i[0]=[gs("VEEBAN")])),_:1,__:[0]}),B("nav",Kg,[we(o,{class:"pages",to:"/"},{default:ps(()=>i[1]||(i[1]=[gs("Home")])),_:1,__:[1]}),we(o,{class:"pages",to:"/complete-tasks"},{default:ps(()=>i[2]||(i[2]=[gs("Complete Tasks")])),_:1,__:[2]})]),B("div",Wg,[we(Ug),B("nav",zg,[de(t).isAuthenticated?(te(),Ze(qg,{key:1,onClick:lr(r,["prevent"])})):(te(),pe(ke,{key:0},[we(o,{to:"/auth?action=login"},{default:ps(()=>i[3]||(i[3]=[gs("Логин")])),_:1,__:[3]}),i[5]||(i[5]=B("span",null,"/",-1)),we(o,{to:"/auth?action=register"},{default:ps(()=>i[4]||(i[4]=[gs("Регистрация")])),_:1,__:[4]})],64))])])])])}}}),Gg=Ve(Jg,[["__scopeId","data-v-fd8e364d"]]),Yg=$e({__name:"App",setup(e){window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark");const t=pi(),s=Mt();return t.beforeEach((r,n,i)=>{const o=r.meta.auth;r.name==="auth"&&s.isAuthenticated?i("/"):o&&s.isAuthenticated?i():o&&!s.isAuthenticated?i("/auth?action=login&message=requiredAuth"):i()}),(r,n)=>{const i=Da("router-view");return te(),pe(ke,null,[we(Gg),we(i)],64)}}}),Qg=hh(),wi=lh(Yg);wi.use(Qg);wi.use(jg);wi.mount("#app");export{bl as g};
